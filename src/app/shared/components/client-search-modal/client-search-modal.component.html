<div #clientSearchModalElement class="modal fade" id="clientSearchModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 700px;">
    <div class="modal-content">

      <div class="modal-body">
        <button type="button" class="float-end btn-close" (click)="cancel()" aria-label="Close"></button>
        <p class="text-start" id="selectClient"> {{
          'gis.quotation.select_a_client' |
          translate
          }}</p>
        <p-table #dt1 (onLazyLoad)="lazyLoadClients($event)" [autoLayout]="true" [lazy]="true" [paginator]="true"
          [rowHover]="true" [resizableColumns]="true" [showCurrentPageReport]="false" [rows]="pageSize || 5"
          [totalRecords]="clientsData?.totalElements" [value]="clientsData?.content"
          [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]" responsiveLayout="stack" [scrollable]="true"
          scrollHeight="400px" scrollWidth="659px" currentPageReportTemplate="{first} - {last} of {totalRecords}"
          [globalFilterFields]=globalFilterFields [selection]="selectedClient"
          (onRowSelect)="selectedClient = $event.data" [selectionMode]="'single'">


          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="name" style="min-width: 220px;">Name</th>
              <th pSortableColumn="emailAddress" style="min-width: 250px;">Email</th>
              <th pSortableColumn="phoneNumber" style="min-width: 200px;">Phone</th>
              <th pSortableColumn="idNumber" style="min-width: 200px;">ID Number</th>
              <th pSortableColumn="pinNumber" style="min-width: 200px;">Pin</th>
              <th pSortableColumn="id" style="min-width: 200px;">Internal ID</th>

            </tr>
            <tr>
              <th><input type="text" class="form-control" (keyup.enter)="filter($event);" (input)="inputName($event)">
              </th>
              <th><input type="text" class="form-control" (keyup.enter)="filter($event);" (input)="inputEmail($event)">
              </th>
              <th><input type="text" class="form-control " (keyup.enter)="filter($event);" (input)="inputPhone($event)">
              </th>
              <th><input type="text" class="form-control " (keyup.enter)="filter($event);" (input)="inputId($event)">
              </th>
              <th><input type="text" class="form-control " (keyup.enter)="filter($event);" (input)="inputPin($event)">
              </th>
              <th><input type="text" class="form-control " (keyup.enter)="filter($event);"
                  (input)="inputInternalId($event)">
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-clientData>
            <tr [pSelectableRow]="clientData">
              <td>{{ utilService.getFullName(clientData) }}</td>
              <td>{{ clientData.emailAddress }}</td>
              <td>{{ clientData.phoneNumber }}</td>
              <td>{{ clientData.idNumber }}</td>
              <td>{{ clientData.pinNumber }}</td>
              <td>{{ clientData.id }}</td>

            </tr>
          </ng-template>

          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="4">{{ 'gis.quotation.no_client_found' | translate }}</td>
            </tr>
          </ng-template>
        </p-table>
        <div class="d-flex justify-content-end mt-4 mb-3" >
          <button type="button" class="btn btn-outline-primary px-5 me-2" id="cancel" (click)="cancel()">{{
            'gis.policy.cancel'
            | translate
            }}
          </button>
          <button type="button" class="btn btn-primary px-5" (click)="saveSelectedClient()">Save
          </button>
        </div>

        <br>
      </div>


    </div>
  </div>
</div>