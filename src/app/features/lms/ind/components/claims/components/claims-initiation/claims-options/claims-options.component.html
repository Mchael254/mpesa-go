
<form [formGroup]="claimInitForm">
  <div class="container">
    <!-- Title -->
    <div class="transactions d-flex justify-content-center fw-medium title">{{ "lms.ind.claims" | translate }}</div>
    <!-- Initiation Elements -->
    <!-- Client Details -->
    <div class="fw-medium section-title">{{ "lms.ind.client_details" | translate }}</div>
    <div class="row">
      <div class="col-md-4">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <label for="policySelection">{{ "lms.ind.policy" | translate }}</label>
          <p-dropdown
            [style]="{width: '100%', padding: '0px'}"
            formControlName="policySelection"
            [options]="policy$ | async"
            optionLabel="policy_no"
            placeholder="Select a Policy"
            [filter]="true"
            [showClear]="true"
            filterBy="policy_no"
            (onFilter)="handlePolicyFilter($event.filter)"
          >
            <ng-template pTemplate="selectedItem">
              <div *ngIf="claimInitForm.get('policySelection').value as selectedPolicy">
                {{ selectedPolicy?.policy_no }}
              </div>
            </ng-template>
          </p-dropdown>

        </div>
      </div>



      <div class="col-md-4">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <label for="policyMember">{{ "lms.ind.policy_member" | translate }}</label>
          <p-dropdown
            [style]="{width: '100%', padding: '0px'}"
            formControlName="policyMember"
            [options]="policy$ | async"
            optionLabel="name"
            placeholder="Select Client"
            [filter]="true"
            [showClear]="true"
            filterBy="name"
            (onFilter)="handleClientFilter($event.filter)"
          >
            <ng-template pTemplate="selectedItem">
              <div *ngIf="claimInitForm.get('policyMember').value as selectedClient">
                {{selectedClient?.name}}
              </div>
            </ng-template>
          </p-dropdown>

        </div>
      </div>

      <div class="col-md-4">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <label for="claimType">{{ "lms.ind.claim_type" | translate }}</label>
          <p-dropdown
            [style]="{ width: '100%', padding: '0px' }"
            formControlName="claimType"
            [options]="claim_types"
            optionLabel="name"
            optionValue="value"
          >
            <ng-template pTemplate="selectedItem">
              <span *ngIf="claimInitForm.get('claimType').value">
                {{ claimInitForm.get('claimType').value | titlecase }}
              </span>
            </ng-template>
          </p-dropdown>
        </div>
      </div>
    </div>
    <!-- End of Client Details -->
  </div>
</form>
