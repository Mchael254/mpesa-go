<div class="container-fluid">
  <div style="display: flex; padding-top: 1rem; justify-content: end">
    <app-dynamic-breadcrumb [breadCrumbItems]="breadCrumbItems">
    </app-dynamic-breadcrumb>
  </div>
  <div class="row">
    <!-- Stepper column (covers 20% of the width) -->
    <div class="col-md-12">
      <app-stepper [currentStep]="5" [stepperData]="steps"></app-stepper>
    </div>
  </div>

  <div>
    <div
      class="w-80"
      style="
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem 0;
      "
    >
      <div
        class="fadeIn full-border" style="position: relative">
        <ngx-spinner
        name="summary_screen"
          type="ball-clip-rotate-multiple"
          [fullScreen]="false"
          color="#00529B"
          size="medium"
          bdColor="rgba(255, 255, 255, 0.966)"
        ></ngx-spinner>

        <div class="text-black fw-bold d-flex justify-content-center mb-4 fs-6">
          Overview Summary
        </div>

        <div class="container">
          <div class="row">
            <div class="col-md-6">
              <div class="m-4">
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Client Name: </span>
                  <span class="fw-light">{{ "Ayomi cherop" }}</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Payment mode: </span>
                  <span class="fw-light">{{ "Cash/cheque" }}</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Sum assured: </span>
                  <span class="fw-light">{{ summaryRecord['sum_insured'] | number}}</span>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="m-4">
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Product: </span>
                  <span class="fw-light">{{
                    productList | product : summaryRecord['product_code']
                  }}</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Currency: </span>
                  <span class="fw-light">{{ "KSH" }}</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="font-grey__font-eight__700">Premium: </span>
                  <span class="fw-light">{{ summaryRecord['premium'] | number}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div
            class="accordion accordion-flush py-5"
            id="accordionFlushExample"
          >
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingOne">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#flush-collapseOne"
                  aria-expanded="false"
                  aria-controls="flush-collapseOne"
                >
                  Client Details
                </button>
              </h2>
              <div
                id="flush-collapseOne"
                class="accordion-collapse collapse"
                aria-labelledby="flush-headingOne"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="container">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="m-4">
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700">Name: </span>
                          <span class="fw-light">{{ "Mary Anne" }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Date of Birth:
                          </span>
                          <span class="fw-light">{{ "10/10/1973" }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Occupation:
                          </span>
                          <span class="fw-light">{{ "Doctor" }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Nationality:
                          </span>
                          <span class="fw-light">{{ "Kenyan" }}</span>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="m-4">
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Country of Residence:
                          </span>
                          <span class="fw-light">{{ "Kenya" }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Gender:
                          </span>
                          <span class="fw-light">{{ "Male" }}</span>
                        </div>
                      </div>
                      <div class="col-12">
                        <div
                        routerLink="/home/lms/ind/quotation/client-details"
                          class="fs-5 d-flex justify-content-end p-2"
                          style="color: var(--primary-color)"
                        >
                          <i class="fas fa-edit cursor-pointer"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingTwo">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#flush-collapseTwo"
                  aria-expanded="false"
                  aria-controls="flush-collapseTwo"
                >
                  Cover Types
                </button>
              </h2>
              <div
                id="flush-collapseTwo"
                class="accordion-collapse collapse"
                aria-labelledby="flush-headingTwo"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="container">
                  <div class="row">

                    <ng-container *ngFor="let coverType of summaryRecord['tel_quote_covers']">
                    <div class="col-md-6">
                      <div class="m-4">
                        <div>{{coverType['tqcvt_cvt_sht_desc'] | uppercase }}</div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Premium:
                          </span>
                          <span class="fw-light">{{ coverType['tqcvt_premium'] | number }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Sum assured:
                          </span>
                          <span class="fw-light">{{ coverType['tqcvt_sa'] | number}}</span>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  </div>
                  <div class="col-12">
                    <div
                    routerLink="/home/lms/ind/quotation/client-details"
                      class="fs-5 d-flex justify-content-end p-2"
                      style="color: var(--primary-color)"
                    >
                      <i class="fas fa-edit cursor-pointer"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingThree">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#flush-collapseThree"
                  aria-expanded="false"
                  aria-controls="flush-collapseThree"
                >
                  Beneficiaries, Dependants, Trustees
                </button>
              </h2>
              <div
                id="flush-collapseThree"
                class="accordion-collapse collapse"
                aria-labelledby="flush-headingThree"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="container">
                  <div class="row">
                    <ng-container *ngFor="let beneficiary of beneficiaryList">
                    <div class="col-md-6">
                      <div class="m-4">
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700">Name: </span>
                          <span class="fw-light">{{ beneficiary['beneficiary_info']['first_name'] +' '+beneficiary['beneficiary_info']['first_name'] | uppercase }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Benefit proportion:
                          </span>
                          <span class="fw-light">{{ beneficiary['percentage_benefit'] | number}}%</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Date of Birth:
                          </span>
                          <span class="fw-light">{{ beneficiary['beneficiary_info']['date_of_birth'] |date:'short' }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"
                            >Relation:
                          </span>
                          <span class="fw-light">{{ relationTypeList | relationType : beneficiary?.beneficiary_info?.relation_code }}</span>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700">Type: </span>
                          <span class="fw-light">{{ beneficiary["type"] === "B" ? "Beneficairy" : "Trustee"  |uppercase}}</span>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  </div>
                  <div class="col-12">
                    <div
                    routerLink="/home/lms/ind/quotation/client-details"
                      class="fs-5 d-flex justify-content-end p-2"
                      style="color: var(--primary-color)"
                    >
                      <i class="fas fa-edit cursor-pointer"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="flush-headingFour">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#flush-collapseFour"
                  aria-expanded="false"
                  aria-controls="flush-collapseFour"
                >
                  Documents
                </button>
              </h2>
              <div
                id="flush-collapseFour"
                class="accordion-collapse collapse"
                aria-labelledby="flush-headingFour"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="accordion-body">
                    <div class="col-md-6" style="position: relative">
                      <ngx-spinner
                      name="download_view"
                        type="ball-clip-rotate-multiple"
                        [fullScreen]="false"
                        color="#00529B"
                        size="medium"
                        bdColor="rgba(255, 255, 255, 0.966)"
                      ></ngx-spinner>

                      <div class="m-4" *ngFor="let item of documentList; let i = index">
                        <div class="d-flex justify-content-start">
                          <span class="font-grey__font-eight__700">{{i+1}}.</span>
                          <a (click)="downloadBase64File(item['backend_file_url'])" class="fw-light click">{{item['type'] | lowercase}}.{{item['file_extension'] | lowercase}}</a>
                        </div>

                        <!-- <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"> Utility:
                            </span>
                          <a class="fw-light">{{'electricity_bill.pdf'}}</a>
                        </div>
                        <div class="d-flex justify-content-between">
                          <span class="font-grey__font-eight__700"> Passport pictures: </span>
                          <a class="fw-light">{{'mypicture.jpg'}}</a>
                        </div> -->


                      </div>
                      <div *ngIf="documentList?.length===0" style="color: red;">
                        No Document Available!!
                      </div>
                    </div>
                    <div class="col-12">
                      <div
                      routerLink="/home/lms/ind/quotation/client-details"
                        class="fs-5 d-flex justify-content-end p-2"
                        style="color: var(--primary-color)"
                      >
                        <i class="fas fa-edit cursor-pointer"></i>
                      </div>
                    </div>

                  </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <!-- <div
            class="font-grey__font-eight__700"
            style="
              margin-bottom: 0.3rem;
              text-align: center;
              padding-top: 3rem;
              transform: translateX(-2.6rem);
            "
          >
            Share:
          </div> -->

          <div
            style="display: flex; justify-content: center; padding-top: 0rem"
          >
            <!-- <div
              class="icon-container"
              style="margin: 0 0.5rem"
              data-bs-toggle="modal"
              data-bs-target="#QuoteShareModal"
              (click)="selectShareType('email')"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 256 193"
              >
                <path
                  fill="#4285F4"
                  d="M58.182 192.05V93.14L27.507 65.077L0 49.504v125.091c0 9.658 7.825 17.455 17.455 17.455h40.727Z"
                />
                <path
                  fill="#34A853"
                  d="M197.818 192.05h40.727c9.659 0 17.455-7.826 17.455-17.455V49.505l-31.156 17.837l-27.026 25.798v98.91Z"
                />
                <path
                  fill="#EA4335"
                  d="m58.182 93.14l-4.174-38.647l4.174-36.989L128 69.868l69.818-52.364l4.669 34.992l-4.669 40.644L128 145.504z"
                />
                <path
                  fill="#FBBC04"
                  d="M197.818 17.504V93.14L256 49.504V26.231c0-21.585-24.64-33.89-41.89-20.945l-16.292 12.218Z"
                />
                <path
                  fill="#C5221F"
                  d="m0 49.504l26.759 20.07L58.182 93.14V17.504L41.89 5.286C24.61-7.66 0 4.646 0 26.23v23.273Z"
                />
              </svg>
            </div>

            <div
              class="icon-container mr-3"
              style="margin: 0 0.2rem; cursor: pointer"
              data-bs-toggle="modal"
              data-bs-target="#QuoteShareModal"
              (click)="selectShareType('phone')"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 256 258"
              >
                <defs>
                  <linearGradient
                    id="logosWhatsappIcon0"
                    x1="50%"
                    x2="50%"
                    y1="100%"
                    y2="0%"
                  >
                    <stop offset="0%" stop-color="#1FAF38" />
                    <stop offset="100%" stop-color="#60D669" />
                  </linearGradient>
                  <linearGradient
                    id="logosWhatsappIcon1"
                    x1="50%"
                    x2="50%"
                    y1="100%"
                    y2="0%"
                  >
                    <stop offset="0%" stop-color="#F9F9F9" />
                    <stop offset="100%" stop-color="#FFF" />
                  </linearGradient>
                </defs>
                <path
                  fill="url(#logosWhatsappIcon0)"
                  d="M5.463 127.456c-.006 21.677 5.658 42.843 16.428 61.499L4.433 252.697l65.232-17.104a122.994 122.994 0 0 0 58.8 14.97h.054c67.815 0 123.018-55.183 123.047-123.01c.013-32.867-12.775-63.773-36.009-87.025c-23.23-23.25-54.125-36.061-87.043-36.076c-67.823 0-123.022 55.18-123.05 123.004"
                />
                <path
                  fill="url(#logosWhatsappIcon1)"
                  d="M1.07 127.416c-.007 22.457 5.86 44.38 17.014 63.704L0 257.147l67.571-17.717c18.618 10.151 39.58 15.503 60.91 15.511h.055c70.248 0 127.434-57.168 127.464-127.423c.012-34.048-13.236-66.065-37.3-90.15C194.633 13.286 162.633.014 128.536 0C58.276 0 1.099 57.16 1.071 127.416Zm40.24 60.376l-2.523-4.005c-10.606-16.864-16.204-36.352-16.196-56.363C22.614 69.029 70.138 21.52 128.576 21.52c28.3.012 54.896 11.044 74.9 31.06c20.003 20.018 31.01 46.628 31.003 74.93c-.026 58.395-47.551 105.91-105.943 105.91h-.042c-19.013-.01-37.66-5.116-53.922-14.765l-3.87-2.295l-40.098 10.513l10.706-39.082Z"
                />
                <path
                  fill="#FFF"
                  d="M96.678 74.148c-2.386-5.303-4.897-5.41-7.166-5.503c-1.858-.08-3.982-.074-6.104-.074c-2.124 0-5.575.799-8.492 3.984c-2.92 3.188-11.148 10.892-11.148 26.561c0 15.67 11.413 30.813 13.004 32.94c1.593 2.123 22.033 35.307 54.405 48.073c26.904 10.609 32.379 8.499 38.218 7.967c5.84-.53 18.844-7.702 21.497-15.139c2.655-7.436 2.655-13.81 1.859-15.142c-.796-1.327-2.92-2.124-6.105-3.716c-3.186-1.593-18.844-9.298-21.763-10.361c-2.92-1.062-5.043-1.592-7.167 1.597c-2.124 3.184-8.223 10.356-10.082 12.48c-1.857 2.129-3.716 2.394-6.9.801c-3.187-1.598-13.444-4.957-25.613-15.806c-9.468-8.442-15.86-18.867-17.718-22.056c-1.858-3.184-.199-4.91 1.398-6.497c1.431-1.427 3.186-3.719 4.78-5.578c1.588-1.86 2.118-3.187 3.18-5.311c1.063-2.126.531-3.986-.264-5.579c-.798-1.593-6.987-17.343-9.819-23.64"
                />
              </svg>
            </div>

            <div
              class="icon-container mr-3"
              style="margin: 0 0.2rem"
              data-bs-toggle="modal"
              data-bs-target="#QuoteShareModal"
              (click)="selectShareType('phone')"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 48 48"
              >
                <path
                  fill="#009688"
                  d="M37 39H11l-6 6V11c0-3.3 2.7-6 6-6h26c3.3 0 6 2.7 6 6v22c0 3.3-2.7 6-6 6z"
                />
                <g fill="#fff">
                  <circle cx="24" cy="22" r="3" />
                  <circle cx="34" cy="22" r="3" />
                  <circle cx="14" cy="22" r="3" />
                </g>
              </svg>
            </div>
            <div
              style="
                border-left: 1px solid rgba(0, 0, 0, 0.263);
                margin: 0 1rem 1rem 1rem;
              "
            >
              &nbsp;
            </div> -->

            <div
              style="
                display: flex;
                justify-content: center;
                padding-top: 1em;
                transform: translateY(-1rem);
                font-weight: 600;
                color: var(--primary-color);
              "
            >
              <div style="font-size: 1.3em; cursor: pointer">
                <button
                (click)="nextPage()"
                  type="button"
                  class="text-end-view mx-1"
                  style="padding: 0.6em; width: 7rem"
                >
                  Complete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="d-flex justify-content-between mt-3 action-buttons-container"
    style="padding-bottom: 2rem"
  >
    <button
      routerLink="/home/lms/ind/quotation/medical-history"
      type="button"
      class="btn btn-primary btn-sm"
      style="padding: 0.6em"
    >
      <i class="fa-solid fa-arrow-left"></i> Previous
    </button>
  </div>
</div>
