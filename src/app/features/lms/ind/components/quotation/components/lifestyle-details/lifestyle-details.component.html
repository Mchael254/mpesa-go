<div class="container-fluid">
  <div style="display: flex; padding-top: 1rem; justify-content: end">
    <app-dynamic-breadcrumb [breadCrumbItems]="breadCrumbItems">
    </app-dynamic-breadcrumb>
  </div>
  <div class="row">
    <div class="col-md-12">
      <app-stepper [currentStep]="3" [stepperData]="steps"></app-stepper>
    </div>
  </div>

  <div class="full-border p-5">
    <div>
      <div class="d-flex justify-content-between">
        <div class="fw-bold text-black">Lifestyle details</div>
      </div>
      <div class="text-black">
        <div class="col fadeIn">
          <div class="row">
            <ng-container [formGroup] = bmiForm>
              <div class="col-lg-4 col-sm-12">

                <label for="height" class="mt-3 mb-1 ">Height (cm)</label>
                <span   *ngIf="bmiNotReady">
                  <div
                    style="width: 1.4rem; height: 1.4rem"
                    class="spinner-border text-primary spinner-border"
                    role="status"
                  >
                    <span class="visually-hidden">Loading...</span>
                  </div>
                </span>
                <input type="number" class="form-control"(keyup.enter)="getBMI()" formControlName="height" [id]="'height'" />
              </div>
              <div class="col-lg-4 col-sm-12">
                <label for="weight" class="mt-3 mb-1">Weight (kg)</label>
                <input type="number" formControlName="weight" class="form-control" [id]="'weight'" (keyup.enter)="getBMI()"/>
              </div>

              <div class="col-lg-4 col-sm-12" *ngIf="bmi['bmi'] || !bmiNotReady">
                <label for="weight" class="mt-3 mb-1 fw-bold"></label>
                <div>

                  <label for="weight" class="mt-3 mb-1 fw-bold">Your BMI: </label> {{bmi['bmi'] || 0}}

                </div>
              </div>


            </ng-container>



            <div [formGroup]="clientLifestyleForm" class="w-100">
              <div class="my-4">
                <label class="required"
                  >Is your occupation associated with any specific hazard or do
                  you take part in any activity, sports, hobbies that may be
                  dangerous or involve extra risk.</label
                >
                <div class="my-2"></div>
                <span class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="male"
                    formControlName="isClientHazardous"
                    value="Y"
                  />
                  <label class="form-check-label" for="male">Yes</label>
                </span>
                <span class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="female"
                    formControlName="isClientHazardous"
                    value="N"
                  />
                  <label class="form-check-label" for="female">No</label>
                </span>

                <div class="row" *ngIf="getValue('isClientHazardous') == 'Y'">
                  <div class="col-lg-6 col-sm-12" >
                    <div><label for="desc_q1" class="mt-3 mb-1">Description</label></div>
                    <textarea id="desc_q1" cols="50" rows="5"></textarea>
                  </div>
                </div>
              </div>

              <div class="my-4">
                <label class="required"
                  >Have you travelled outside Nigeria for the past 6 months or
                  intend to in the near future</label
                >
                <div class="my-2"></div>
                <span class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="male"
                    formControlName="question2"
                    value="Y"
                  />
                  <label class="form-check-label" for="male">Yes</label>
                </span>
                <span class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="female"
                    formControlName="question2"
                    value="N"
                  />
                  <label class="form-check-label" for="female">No</label>
                </span>

                <div class="row" *ngIf="getValue('question2') == 'Y'">
                  <div class="col-lg-6 col-md-6 col-sm-12">
                    <label for="clientType">Enter Country</label>
                    <select class="form-select" [id]="'clientType'">
                      <ng-container *ngFor="let country of countryList">
                        <option [value]="country['id']">
                          {{ country["name"] | lowercase }}
                        </option>
                      </ng-container>
                    </select>
                  </div>
                  <div class="col-lg-6 col-md-12 col-sm-12">
                    <div><label for="desc_q1" class="mt-3 mb-1">Description</label></div>
                    <textarea id="desc_q1" cols="50" rows="5"></textarea>
                  </div>
                </div>
              </div>

              <div class="my-4">
                <label class="required"
                  >Do you consume or have consumed any of the following</label
                >
                <div class="my-2"></div>
                <div class="row mt-1">
                  <div class="col-lg-3 col-md-6 col-sm-12">
                    <div>a. Tobacco</div>

                    <div>
                      <div>
                        <div>
                          <div></div>
                          <span class="form-check form-check-inline">
                            <span class="form-check form-check-inline">
                              <input
                                class="form-check-input"
                                type="radio"
                                id="yes"
                                formControlName="question3"
                                value="Y"
                              />
                              <label class="form-check-label" for="yes"
                                >Yes</label
                              >
                            </span>
                            <span class="form-check form-check-inline">
                              <input
                                class="form-check-input"
                                type="radio"
                                id="no"
                                formControlName="question3"
                                value="N"
                              />
                              <label class="form-check-label" for="no"
                                >No</label
                              >
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-9 col-md-12 col-sm-12">
                    <div class="row" *ngIf="getValue('question3') == 'Y'">
                      <div class="col-lg-4 col-md-6 col-sm-12">
                        <label for="surname">Quantity</label>
                        <input
                        formControlName="tobaccoQuantity"
                          type="text"
                          class="form-control"
                          [id]="'surname'"
                        />
                      </div>
                      <div class="col-lg-4 col-md-6 col-sm-12">
                        <label for="clientType">Frequency</label>
                        <select class="form-select" [id]="'clientType'" formControlName="tobaccoFrequency">
                          <ng-container
                            *ngFor="
                              let product of frequencyOfPayment
                            "
                          >
                            <option [value]="product['value']">
                              {{ product['label'] | titlecase}}
                            </option>
                          </ng-container>
                        </select>
                      </div>
                      <div class="col-lg-4 col-md-6 col-sm-12">
                        <label for="surname">Period Consumed</label>
                        <input
                        formControlName="tobaccoConsumptionPeriod"
                          type="text"
                          class="form-control"
                          [id]="'surname'"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <div>b. Alcohol</div>

                <div>
                  <div>
                    <div class="mt-2">
                      <div class="mt-1"></div>

                      <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-12">
                          <div></div>
                          <span class="form-check form-check-inline">
                            <span class="form-check form-check-inline">
                              <input
                                class="form-check-input"
                                type="radio"
                                id="yes"
                                formControlName="question4"
                                value="Y"
                              />
                              <label class="form-check-label" for="yes"
                                >Yes</label
                              >
                            </span>
                            <span class="form-check form-check-inline">
                              <input
                                class="form-check-input"
                                type="radio"
                                id="no"
                                formControlName="question4"
                                value="N"
                              />
                              <label class="form-check-label" for="no"
                                >No</label
                              >
                            </span>
                          </span>
                        </div>

                        <div class="col-lg-9 col-md-12 col-sm-12">
                          <div class="row" *ngIf="getValue('question4') == 'Y'">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                              <label for="surname">Quantity</label>
                              <input
                              formControlName="alcoholQuantity"
                                type="text"
                                class="form-control"
                                [id]="'surname'"
                              />
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                              <label for="clientType">Frequency</label>
                              <select class="form-select" [id]="'clientType'" formControlName="alcoholFrequency">
                                <ng-container
                            *ngFor="
                              let product of frequencyOfPayment
                            "
                          >
                            <option [value]="product['value']">
                              {{ product['label'] | titlecase}}
                            </option>
                          </ng-container>
                              </select>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                              <label for="surname">Period Consumed</label>
                              <input
                              formControlName="alcoholConsumptionPeriod"
                                type="text"
                                class="form-control"
                                [id]="'surname'"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="d-flex justify-content-between m-4">
    <button
      routerLink="/home/lms/ind/quotation/insurance-history"
      style="padding: 0.6em"
      type="button"
      class="btn btn-primary btn-sm"
    >
      <i class="fa-solid fa-arrow-left"></i>&nbsp;&nbsp; Back
    </button>
    <button
    (click)="saveClientLifeStyle()"
      style="padding: 0.6em"
      type="button"
      class="btn btn-primary btn-sm"
    >
      Continue &nbsp;&nbsp;<i class="fa-solid fa-arrow-right"></i>
    </button>
  </div>
</div>
