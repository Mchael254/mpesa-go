<div class="row col-12">
  <div class="col-2">
    <div class="card">
      <ul class="nav nav-tabs flex-column mb-3" id="ex1" role="tablist">
        <ng-container *ngFor="let nav of navigationLinks">
          <li class="nav-item" role="presentation">
            <a class="nav-link" id="{{nav.id}}" data-bs-toggle="tab" href="#{{nav.url}}" role="tab" (click)="tabNavigation(nav.id)">{{nav.title}}</a>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
  <div class="col-10">
    <div class="card p-2">
      <div class="card-body">
        <div class="tab-content" id="ex1-content">
          <ng-container *ngIf="currentTab.url === 'campaignDetails'">
            <div class="tab-pane fade" id="campaignDetails" [ngClass]="{'show active': currentTab.url === 'campaignDetails'}"
                 role="tabpanel" aria-labelledby="ex1-tab-1">

              <form [formGroup]="createCampaignDefinitionForm">
                <h5>Campaign definition</h5>
                <h6>Basic information</h6>
                <div class="row">
                  <ng-container *ngIf="visibleStatus.name === 'Y'">
                    <div class="col-md-4">
                      <label for="name" class="form-label">Name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="name"
                        formControlName="name"
                        [ngClass]="{ 'is-invalid': f['name']?.invalid && (f['name']?.dirty || f['name']?.touched) }"
                      />
                      <div *ngIf="f['name']?.invalid && (f['name']?.dirty || f['name']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['name']?.errors['required']">Name is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.system === 'Y'">
                    <div class="col-md-4">
                      <label for="system" class="form-label">System type</label>
                      <select id="system" class="form-select" formControlName="system"
                              [ngClass]="{ 'is-invalid': f['system']?.invalid && (f['system']?.dirty || f['system']?.touched) }">
                        <option value="gis">GIS</option>
                        <option value="lms">LMS</option>
                      </select>
                      <div *ngIf="f['system']?.invalid && (f['system']?.dirty || f['system']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['system']?.errors['required']">System is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.description === 'Y'">
                    <div class="col-md-4">
                      <label for="description" class="form-label">Description</label>
                      <input
                        type="text"
                        class="form-control"
                        id="description"
                        formControlName="description"
                        [ngClass]="{ 'is-invalid': f['description']?.invalid && (f['description']?.dirty || f['description']?.touched) }"
                      />
                      <div *ngIf="f['description']?.invalid && (f['description']?.dirty || f['description']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['description']?.errors['required']">Description is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.objective === 'Y'">
                    <div class="col-md-4">
                      <label for="objective" class="form-label">Objective</label>
                      <input
                        type="text"
                        class="form-control"
                        id="objective"
                        formControlName="objective"
                        [ngClass]="{ 'is-invalid': f['objective']?.invalid && (f['objective']?.dirty || f['objective']?.touched) }"
                      />
                      <div *ngIf="f['objective']?.invalid && (f['objective']?.dirty || f['objective']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['objective']?.errors['required']">Objective is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.dateFrom === 'Y'">
                    <div class="col-md-4">
                      <label for="dateFrom" class="form-label">From</label>
                      <input
                        type="text"
                        class="form-control"
                        id="dateFrom"
                        placeholder="Date from"
                        onfocus="(this.type='date')"
                        onblur="(this.type='text')"
                        formControlName="dateFrom"
                        [ngClass]="{ 'is-invalid': f['dateFrom']?.invalid && (f['dateFrom']?.dirty || f['dateFrom']?.touched) }"
                      />
                      <div *ngIf="f['dateFrom']?.invalid && (f['dateFrom']?.dirty || f['dateFrom']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['dateFrom']?.errors['required']">Date from is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.dateTo === 'Y'">
                    <div class="col-md-4">
                      <label for="dateTo" class="form-label">To</label>
                      <input
                        type="text"
                        class="form-control"
                        id="dateTo"
                        placeholder="Date to"
                        onfocus="(this.type='date')"
                        onblur="(this.type='text')"
                        formControlName="dateTo"
                        [ngClass]="{ 'is-invalid': f['dateTo']?.invalid && (f['dateTo']?.dirty || f['dateTo']?.touched) }"
                      />
                      <div *ngIf="f['dateTo']?.invalid && (f['dateTo']?.dirty || f['dateTo']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['dateTo']?.errors['required']">Date to is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.executionTime === 'Y'">
                    <div class="col-md-4">
                      <label for="executionTime" class="form-label">Execution time</label>
                      <input
                        type="text"
                        class="form-control"
                        id="executionTime"
                        onfocus="(this.type='time')"
                        onblur="(this.type='text')"
                        formControlName="executionTime"
                        [ngClass]="{ 'is-invalid': f['executionTime']?.invalid && (f['executionTime']?.dirty || f['executionTime']?.touched) }"
                      />
                      <div *ngIf="f['executionTime']?.invalid && (f['executionTime']?.dirty || f['executionTime']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['executionTime']?.errors['required']">Execution time is required</div>
                      </div>
                    </div>
                  </ng-container>
                </div>

                <h6>Assignment</h6>
                <div class="row">
                  <ng-container *ngIf="visibleStatus.assignedTo === 'Y'">
                    <div class="col-md-4">
                      <label for="assignedTo" class="form-label">Assigned to</label>
                      <select id="assignedTo" class="form-select" formControlName="assignedTo"
                              [ngClass]="{ 'is-invalid': f['assignedTo']?.invalid && (f['assignedTo']?.dirty || f['assignedTo']?.touched) }">
                        <option value="1">user 1</option>
                        <option value="2">user 2</option>
                      </select>
                      <div *ngIf="f['assignedTo']?.invalid && (f['assignedTo']?.dirty || f['assignedTo']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['assignedTo']?.errors['required']">Assigned to is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.organization === 'Y'">
                    <div class="col-md-4">
                      <label for="organization" class="form-label">Organization</label>
                      <select id="organization" class="form-select" formControlName="organization"
                              [ngClass]="{ 'is-invalid': f['organization']?.invalid && (f['organization']?.dirty || f['organization']?.touched) }">
                        <option value="1">Heritage</option>
                        <option value="2">KCB</option>
                      </select>
                      <div *ngIf="f['organization']?.invalid && (f['organization']?.dirty || f['organization']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['organization']?.errors['required']">Organization is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.team === 'Y'">
                    <div class="col-md-4">
                      <label for="team" class="form-label">Team</label>
                      <input
                        type="text"
                        class="form-control"
                        id="team"
                        formControlName="team"
                        [ngClass]="{ 'is-invalid': f['team']?.invalid && (f['team']?.dirty || f['team']?.touched) }"
                      />
                      <div *ngIf="f['team']?.invalid && (f['team']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['team']?.errors['required']">Team is required</div>
                      </div>
                    </div>
                  </ng-container>
                </div>
                <h6>Financial information</h6>
                <div class="row">
                  <ng-container *ngIf="visibleStatus.currency === 'Y'">
                    <div class="col-md-4">
                      <label for="currency" class="form-label">Currency</label>
                      <select id="currency" class="form-select" formControlName="currency"
                              [ngClass]="{ 'is-invalid': f['currency']?.invalid && (f['currency']?.dirty || f['currency']?.touched) }">
                        <option value="1">Kshs</option>
                        <option value="2">US Dollar</option>
                      </select>
                      <div *ngIf="f['currency']?.invalid && (f['currency']?.dirty || f['currency']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['currency']?.errors['required']">Currency is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.budgetedCost === 'Y'">
                    <div class="col-md-4">
                      <label for="budgetedCost" class="form-label">Budgeted cost</label>
                      <input
                        type="number"
                        class="form-control"
                        id="budgetedCost"
                        formControlName="budgetedCost"
                        [ngClass]="{ 'is-invalid': f['budgetedCost']?.invalid && (f['budgetedCost']?.dirty || f['budgetedCost']?.touched) }"
                      />
                      <div *ngIf="f['budgetedCost']?.invalid && (f['budgetedCost']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['budgetedCost']?.errors['required']">Budgeted cost is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.actualCost === 'Y'">
                    <div class="col-md-4">
                      <label for="actualCost" class="form-label">Actual cost</label>
                      <input
                        type="number"
                        class="form-control"
                        id="actualCost"
                        formControlName="actualCost"
                        [ngClass]="{ 'is-invalid': f['actualCost']?.invalid && (f['actualCost']?.dirty || f['actualCost']?.touched) }"
                      />
                      <div *ngIf="f['actualCost']?.invalid && (f['actualCost']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['actualCost']?.errors['required']">Actual cost is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.expectedCost === 'Y'">
                    <div class="col-md-4">
                      <label for="expectedCost" class="form-label">Expected cost</label>
                      <input
                        type="number"
                        class="form-control"
                        id="expectedCost"
                        formControlName="expectedCost"
                        [ngClass]="{ 'is-invalid': f['expectedCost']?.invalid && (f['expectedCost']?.dirty || f['expectedCost']?.touched) }"
                      />
                      <div *ngIf="f['expectedCost']?.invalid && (f['expectedCost']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['expectedCost']?.errors['required']">Expected cost is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.expectedRevenue === 'Y'">
                    <div class="col-md-4">
                      <label for="expectedRevenue" class="form-label">Expected revenue</label>
                      <input
                        type="number"
                        class="form-control"
                        id="expectedRevenue"
                        formControlName="expectedRevenue"
                        [ngClass]="{ 'is-invalid': f['expectedRevenue']?.invalid && (f['expectedRevenue']?.dirty || f['expectedRevenue']?.touched) }"
                      />
                      <div *ngIf="f['expectedRevenue']?.invalid && (f['expectedRevenue']?.dirty || f['expectedRevenue']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['expectedRevenue']?.errors['required']">Expected revenue is required</div>
                      </div>
                    </div>
                  </ng-container>
                </div>

                <h6>Campaign details</h6>
                <div class="row">
                  <ng-container *ngIf="visibleStatus.sponsor === 'Y'">
                    <div class="col-md-4">
                      <label for="sponsor" class="form-label">Sponsor/partner</label>
                      <input
                        type="text"
                        class="form-control"
                        id="sponsor"
                        formControlName="sponsor"
                        [ngClass]="{ 'is-invalid': f['sponsor']?.invalid && (f['sponsor']?.dirty || f['sponsor']?.touched) }"
                      />
                      <div *ngIf="f['sponsor']?.invalid && (f['sponsor']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['sponsor']?.errors['required']">Sponsor is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.campaignType === 'Y'">
                    <div class="col-md-4">
                      <label for="campaignType" class="form-label">Campaign type</label>
                      <input
                        type="text"
                        class="form-control"
                        id="campaignType"
                        formControlName="campaignType"
                        [ngClass]="{ 'is-invalid': f['campaignType']?.invalid && (f['campaignType']?.dirty || f['campaignType']?.touched) }"
                      />
                      <div *ngIf="f['campaignType']?.invalid && (f['campaignType']?.dirty || f['campaignType']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['campaignType']?.errors['required']">Campaign type is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.status === 'Y'">
                    <div class="col-md-4">
                      <label for="status" class="form-label">Status</label>
                      <select id="status" class="form-select" formControlName="status"
                              [ngClass]="{ 'is-invalid': f['status']?.invalid && (f['status']?.dirty || f['status']?.touched) }">
                        <option value="1">Active</option>
                        <option value="2">Inactive</option>
                      </select>
                      <div *ngIf="f['status']?.invalid && (f['status']?.dirty || f['status']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['status']?.errors['required']">Status is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.pageImpressions === 'Y'">
                    <div class="col-md-4">
                      <label for="pageImpressions" class="form-label">Page impressions</label>
                      <input
                        type="number"
                        class="form-control"
                        id="pageImpressions"
                        formControlName="pageImpressions"
                        [ngClass]="{ 'is-invalid': f['pageImpressions']?.invalid && (f['pageImpressions']?.dirty || f['pageImpressions']?.touched) }"
                      />
                      <div *ngIf="f['pageImpressions']?.invalid && (f['pageImpressions']?.dirty || f['pageImpressions']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['pageImpressions']?.errors['required']">Page impressions is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.event === 'Y'">
                    <div class="col-md-4">
                      <label for="event" class="form-label">Event</label>
                      <input
                        type="text"
                        class="form-control"
                        id="event"
                        formControlName="event"
                        [ngClass]="{ 'is-invalid': f['event']?.invalid && (f['event']?.dirty || f['event']?.touched) }"
                      />
                      <div *ngIf="f['event']?.invalid && (f['event']?.dirty || f['countryCode']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['event']?.errors['required']">Event is required</div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="visibleStatus.venue === 'Y'">
                    <div class="col-md-4">
                      <label for="venue" class="form-label">Venue</label>
                      <input
                        type="text"
                        class="form-control"
                        id="venue"
                        formControlName="venue"
                        [ngClass]="{ 'is-invalid': f['venue']?.invalid && (f['venue']?.dirty || f['venue']?.touched) }"
                      />
                      <div *ngIf="f['venue']?.invalid && (f['venue']?.dirty || f['venue']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['venue']?.errors['required']">Venue is required</div>
                      </div>
                    </div>
                  </ng-container>
                </div>

                <h6>Campaign products</h6>
                <div class="row">
                  <ng-container *ngIf="visibleStatus.products === 'Y'">
                    <div class="col-md-4">
                      <label for="products" class="form-label">Products</label>
                      <select id="products" class="form-select" formControlName="products"
                              [ngClass]="{ 'is-invalid': f['products']?.invalid && (f['products']?.dirty || f['products']?.touched) }">
                        <option value="1">Active</option>
                        <option value="2">Inactive</option>
                      </select>
                      <div *ngIf="f['products']?.invalid && (f['products']?.dirty || f['products']?.touched)" class="form-text text-danger">
                        <div *ngIf="f['products']?.errors['required']">Products is required</div>
                      </div>
                    </div>
                  </ng-container>

                  <div *ngFor="let product of products" class="col-md-3">
                    <div class="row pill-box fadeIn">
                      <div class="col-md-9 col-9 text-primary fw-medium">
                        {{product.name}}
                      </div>
                      <div class="col-md-3 col-3 text-end">

                        <i class="pi pi-times text-primary" (click)="deleteProduct(product)"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </ng-container>

          <ng-container *ngIf="currentTab.url === 'targets'">
            <div class="tab-pane fade" id="targets" [ngClass]="{'show active': currentTab.url === 'targets'}"
                 role="tabpanel" aria-labelledby="ex1-tab-2">

              <h6 class="text-dark">Campaign targets</h6>
              <div class="row mb-2">
                <div class="col-sm-12 col-md-6">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Search for campaign target"
                    aria-label="search"
                    aria-describedby="search"
                  />
                </div>

                <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
                  <div class="float-end">
                    <span class="icon-circle">
                      <i class="fa-solid fa-plus"
                         (click)="openTargetModal()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="pi pi-pencil"
                      (click)="editTarget()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="fa-regular fa-trash-can"></i>
                    </span>
                  </div>
                </div>
              </div>
              <p-table
                #campaignsTargetTable
                [autoLayout]="true"
                [rowHover]="true"
                [resizableColumns]="true"
                [showCurrentPageReport]="true"
                [rows]="pageSize || 5"
                [totalRecords]="campaignTargetData?.length"
                [value]="campaignTargetData"
                [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
                responsiveLayout="stack"
                [scrollable]="true"
                [(selection)]="selectedCampaignTarget"
                selectionMode="single"
                dataKey="code"
                scrollHeight="400px"
                currentPageReportTemplate="{first} - {last} of {totalRecords}"
                [globalFilterFields]="['description', 'code']"
              >

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="target">Target <p-sortIcon field="target"></p-sortIcon></th>
                    <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="date">Date <p-sortIcon field="date"></p-sortIcon></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-campaignTarget>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3">No Campaign Target Detail(s) Found.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </ng-container>

          <ng-container *ngIf="currentTab.url === 'activities'">
            <div class="tab-pane fade" id="activities" [ngClass]="{'show active': currentTab.url === 'activities'}" role="tabpanel" aria-labelledby="ex1-tab-3">
              <h6 class="text-dark">Campaign activities</h6>
              <div class="row mb-2">
                <div class="col-sm-12 col-md-6">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Search for campaign activities"
                    aria-label="search"
                    aria-describedby="search"
                  />
                </div>

                <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
                  <div class="float-end">
                    <span class="icon-circle">
                      <i class="fa-solid fa-plus"
                         (click)="openCampaignActivityModal()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="pi pi-pencil"
                         (click)="editCampaignActivity()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="fa-regular fa-trash-can"></i>
                    </span>
                  </div>
                </div>
              </div>
              <p-table
                #campaignsActivityTable
                [autoLayout]="true"
                [rowHover]="true"
                [resizableColumns]="true"
                [showCurrentPageReport]="true"
                [rows]="pageSize || 5"
                [totalRecords]="campaignTargetData?.length"
                [value]="campaignTargetData"
                [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
                responsiveLayout="stack"
                [scrollable]="true"
                [(selection)]="selectedCampaignTarget"
                selectionMode="single"
                dataKey="code"
                scrollHeight="400px"
                currentPageReportTemplate="{first} - {last} of {totalRecords}"
                [globalFilterFields]="['description', 'code']"
              >

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="target">Subject <p-sortIcon field="target"></p-sortIcon></th>
                    <th pSortableColumn="email">Description <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="date">WEF <p-sortIcon field="date"></p-sortIcon></th>
                    <th pSortableColumn="date">WET <p-sortIcon field="date"></p-sortIcon></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-campaignTarget>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="4">No Campaign Activity Detail(s) Found.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </ng-container>
          <ng-container *ngIf="currentTab.url === 'messages'">
            <div class="tab-pane fade" id="messages" [ngClass]="{'show active': currentTab.url === 'messages'}" role="tabpanel" aria-labelledby="ex1-tab-4">
              <h6 class="text-dark">Campaign messages</h6>
              <div class="row mb-2">
                <div class="col-sm-12 col-md-6">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Search for campaign messages"
                    aria-label="search"
                    aria-describedby="search"
                  />
                </div>

                <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
                  <div class="float-end">
                    <span class="icon-circle">
                      <i class="fa-solid fa-plus"
                         (click)="openCampaignMessageModal()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="pi pi-pencil"
                        (click)="editCampaignMessages()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="fa-regular fa-trash-can"></i>
                    </span>
                  </div>
                </div>
              </div>
              <p-table
                #campaignsMessagesTable
                [autoLayout]="true"
                [rowHover]="true"
                [resizableColumns]="true"
                [showCurrentPageReport]="true"
                [rows]="pageSize || 5"
                [totalRecords]="campaignTargetData?.length"
                [value]="campaignTargetData"
                [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
                responsiveLayout="stack"
                [scrollable]="true"
                [(selection)]="selectedCampaignTarget"
                selectionMode="single"
                dataKey="code"
                scrollHeight="400px"
                currentPageReportTemplate="{first} - {last} of {totalRecords}"
                [globalFilterFields]="['description', 'code']"
              >

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="target">Subject <p-sortIcon field="target"></p-sortIcon></th>
                    <th pSortableColumn="email">Body <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="date">Date <p-sortIcon field="date"></p-sortIcon></th>
                    <th pSortableColumn="date">Send to all? <p-sortIcon field="date"></p-sortIcon></th>
                    <th>Message status</th>
                    <th>Has image?</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-campaignTarget>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="4">No Campaign Activity Detail(s) Found.</td>
                  </tr>
                </ng-template>
              </p-table>

              <h6 class="text-dark">Tracker URLS</h6>
              <div class="row mb-2">
                <div class="col-sm-12 col-md-6">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Search for tracker urls"
                    aria-label="search"
                    aria-describedby="search"
                  />
                </div>

                <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
                  <div class="float-end">
                    <span class="icon-circle">
                      <i class="fa-solid fa-plus"
                         (click)="openTrackerUrlModal()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="pi pi-pencil"
                         (click)="editTrackerUrl()"></i>
                    </span>
                    <span class="icon-circle">
                      <i class="fa-regular fa-trash-can"></i>
                    </span>
                  </div>
                </div>
              </div>
              <p-table
                #trackerUrlsTable
                [autoLayout]="true"
                [rowHover]="true"
                [resizableColumns]="true"
                [showCurrentPageReport]="true"
                [rows]="pageSize || 5"
                [totalRecords]="campaignTargetData?.length"
                [value]="campaignTargetData"
                [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
                responsiveLayout="stack"
                [scrollable]="true"
                [(selection)]="selectedCampaignTarget"
                selectionMode="single"
                dataKey="code"
                scrollHeight="400px"
                currentPageReportTemplate="{first} - {last} of {totalRecords}"
                [globalFilterFields]="['description', 'code']"
              >

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="target">Name <p-sortIcon field="target"></p-sortIcon></th>
                    <th pSortableColumn="email">URL <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="date">Description <p-sortIcon field="date"></p-sortIcon></th>
                    <th pSortableColumn="date">Action <p-sortIcon field="date"></p-sortIcon></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-campaignTarget>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="4">No Tracker URL Detail(s) Found.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </ng-container>
          <ng-container *ngIf="currentTab.url === 'performance'">
            <div class="tab-pane fade" id="performance" [ngClass]="{'show active': currentTab.url === 'performance'}" role="tabpanel" aria-labelledby="ex1-tab-5">
              <h5 class="text-dark">Campaign performance</h5>
              <div class="row">
                <div class="col-lg-4">
                  <h6 class="text-dark">Campaign name: Campaign AA</h6>
                </div>
                <div class="col-lg-2">
                  <label class="text-dark" style="margin-top: .6rem;">Status: <span class="text-green">Active</span></label>
                </div>
                <label class="text-dark w-auto" style="margin-top: .6rem;">Date range:</label>
                <div class="col-lg-2">

                  <input
                    type="date"
                    class="form-control"
                  />
                </div>
                <div class="col-lg-2">
                  <input
                    type="date"
                    class="form-control"
                  />
                </div>
              </div>

              <div class="container py-2 border border-primary rounded">
                <div class="row col-sm-4 col-md-12 col-lg-12">
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Messages sent</label>
                    <div class="col-5 pe-0">
                      <h6>10,000</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Messages queue</label>
                    <div class="col-5 pe-0">
                      <h6>6,000</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Viewed messages</label>
                    <div class="col-5 pe-0">
                      <h6>4,000</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Click-thru links</label>
                    <div class="col-5 pe-0">
                      <h6>3,000</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Opted out</label>
                    <div class="col-5 pe-0">
                      <h6>500</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                  <div class="row col">
                    <label class="text-black" style="margin-top: .6rem;font-size: 14px;">Suppressed</label>
                    <div class="col-5 pe-0">
                      <h6>120</h6>
                    </div>
                    <div class="col-6">
                      <label class="text-green w-auto" style="margin-top: .6rem;">
                        <i class="fa fa-arrow-up"></i> 15%
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <h5 class="text-dark">Performance over time</h5>
              <div class="row col-sm-12 col-lg-6 mb-2">
                <label class="w-auto" style="margin-top: .6rem;">Metric</label>
                <select class="form-select w-50">
                  <option value="">Messages sent</option>
                  <option value="">Messages queue</option>
                  <option value="">Viewed messages</option>
                  <option value="">Click-thru links</option>
                  <option value="">Contacts created</option>
                  <option value="">Opted out</option>
                  <option value="">Suppressed by email addresses</option>
                </select>
              </div>
              <div>
                <app-dynamic-chart
                  [chartType]="'line'"
                  [basicData]="basicData"
                  [chartTitle]="'Performance over time'"
                ></app-dynamic-chart>
              </div>

              <h5 class="text-dark">Top performing products</h5>
              <div class="row col-sm-12 col-lg-6 mb-2">
                <label class="w-auto" style="margin-top: .6rem;">Metric</label>
                <select class="form-select w-50">
                  <option value="">Messages sent</option>
                  <option value="">Messages queue</option>
                  <option value="">Viewed messages</option>
                  <option value="">Click-thru links</option>
                  <option value="">Contacts created</option>
                  <option value="">Opted out</option>
                  <option value="">Suppressed by email addresses</option>
                </select>
              </div>
              <p-table
                #campaignsTargetSearchTable
                [autoLayout]="true"
                [rowHover]="true"
                [resizableColumns]="true"
                [showCurrentPageReport]="true"
                [rows]="pageSize || 5"
                [totalRecords]="campaignTargetData?.length"
                [value]="campaignTargetData"
                [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
                responsiveLayout="stack"
                [scrollable]="true"
                selectionMode="single"
                dataKey="code"
                scrollHeight="400px"
                currentPageReportTemplate="{first} - {last} of {totalRecords}"
                [globalFilterFields]="['description', 'code']"
              >

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="target">Product <p-sortIcon field="target"></p-sortIcon></th>
                    <th pSortableColumn="email">Total(Metric selected above) <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="date">% of category audience <p-sortIcon field="date"></p-sortIcon></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-campaignTarget>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3">No Performing Product Detail(s) Found.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </ng-container>

        </div>
      </div>

    </div>
  </div>
  <div class="d-flex justify-content-end mt-2">
    <button class="btn btn-primary" (click)="goToNext()">{{buttonText}}</button>
  </div>

</div>

<!--Create target search modal-->
<div
  class="modal fade"
  #targetSearchModal
  id="targetSearchModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
>
  <div class="modal-dialog modal-lg align-items-center">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 py-0">
        <h5 class="modal-title" id="exampleModalLabel">{{ editMode ? 'Edit' : 'Define' }} a {{ editMode ? 'target search' : 'new target search' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeTargetModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">

        <label class="form-label w-100">Select target group</label>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="clients" value="clients">
          <label class="form-check-label" for="clients">Clients</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="leads" value="leads">
          <label class="form-check-label" for="leads">Leads</label>
        </div>
        <div class="row my-3">
          <div class="col-md-6">
            <label class="form-label w-100">Search criteria</label>
            <select class="form-select w-75">
              <option value="1">Active</option>
              <option value="2">Inactive</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label w-100">Input search</label>
            <input
              type="text"
              class="form-control"
              placeholder="Search for campaign target"
              aria-label="search"
              aria-describedby="search"
            />
          </div>
        </div>
        <p-table
          #campaignsTargetSearchTable
          [autoLayout]="true"
          [rowHover]="true"
          [resizableColumns]="true"
          [showCurrentPageReport]="true"
          [rows]="pageSize || 5"
          [totalRecords]="campaignTargetData?.length"
          [value]="campaignTargetData"
          [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
          responsiveLayout="stack"
          [scrollable]="true"
          [(selection)]="selectedCampaignTarget"
          selectionMode="single"
          dataKey="code"
          scrollHeight="400px"
          currentPageReportTemplate="{first} - {last} of {totalRecords}"
          [globalFilterFields]="['description', 'code']"
        >

          <ng-template pTemplate="header">
            <tr>
              <th></th>
              <th pSortableColumn="target">Account type <p-sortIcon field="target"></p-sortIcon></th>
              <th pSortableColumn="email">Name <p-sortIcon field="email"></p-sortIcon></th>
              <th pSortableColumn="date">Email <p-sortIcon field="date"></p-sortIcon></th>
              <th>Phone number</th>
              <th>Gender</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-campaignTarget>
            <tr>
              <td><p-tableCheckbox></p-tableCheckbox></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="6">No Campaign Target Search Detail(s) Found.</td>
            </tr>
          </ng-template>
        </p-table>

      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>

<!--Campaign activities modal-->
<div
  class="modal fade"
  #campaignActivityModal
  id="campaignActivityModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
>
  <div class="modal-dialog modal-lg align-items-center">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 py-0">
        <h5 class="modal-title" id="exampleModalLabel">Campaign Activities</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeCampaignActivityModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row my-3">
          <div class="col-md-6">
            <input
              type="text"
              class="form-control w-75"
              placeholder="Search for campaign activity"
              aria-label="search"
              aria-describedby="search"
            />
          </div>
        </div>
        <p-table
          #campaignsActivityTable
          [autoLayout]="true"
          [rowHover]="true"
          [resizableColumns]="true"
          [showCurrentPageReport]="true"
          [rows]="pageSize || 5"
          [totalRecords]="campaignTargetData?.length"
          [value]="campaignTargetData"
          [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
          responsiveLayout="stack"
          [scrollable]="true"
          [(selection)]="selectedCampaignTarget"
          selectionMode="single"
          dataKey="code"
          scrollHeight="400px"
          currentPageReportTemplate="{first} - {last} of {totalRecords}"
          [globalFilterFields]="['description', 'code']"
        >

          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="target">Subject <p-sortIcon field="target"></p-sortIcon></th>
              <th pSortableColumn="email">Location <p-sortIcon field="email"></p-sortIcon></th>
              <th pSortableColumn="date">Description <p-sortIcon field="date"></p-sortIcon></th>
              <th>Type</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-campaignTarget>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="6">No Campaign Activity Detail(s) Found.</td>
            </tr>
          </ng-template>
        </p-table>

      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-outline-primary" (click)="openNewCampaignActivityModal()">Create a new activity</button>
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  #newCampaignActivityModal
  id="newCampaignActivityModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
>
  <div class="modal-dialog align-items-center">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 py-0">
        <h5 class="modal-title" id="exampleModalLabel">{{ editMode ? 'Edit' : 'Define' }} {{ editMode ? 'an activity' : 'a new activity' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeNewCampaignActivityModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createCampaignActivityForm">
          <div class="row my-3">

            <ng-container *ngIf="visibleStatus.subject === 'Y'">
              <div class="col-md-6">
                <label for="subject" class="form-label">Subject</label>
                <input
                  type="text"
                  class="form-control"
                  id="subject"
                  formControlName="subject"
                  [ngClass]="{ 'is-invalid': g['subject']?.invalid && (g['subject']?.dirty || g['subject']?.touched) }"
                />
                <div *ngIf="g['subject']?.invalid && (g['subject']?.dirty || g['subject']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['subject']?.errors['required']">Subject is required</div>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="visibleStatus.activityDescription === 'Y'">
              <div class="col-md-6">
                <label for="activityDescription" class="form-label">Description</label>
                <input
                  type="text"
                  class="form-control"
                  id="activityDescription"
                  formControlName="activityDescription"
                  [ngClass]="{ 'is-invalid': g['activityDescription']?.invalid && (g['activityDescription']?.dirty || g['activityDescription']?.touched) }"
                />
                <div *ngIf="g['activityDescription']?.invalid && (g['activityDescription']?.dirty || g['activityDescription']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['activityDescription']?.errors['required']">Description is required</div>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="visibleStatus.wef === 'Y'">
              <div class="col-md-6">
                <label for="wef" class="form-label">WEF</label>
                <input
                  type="text"
                  class="form-control"
                  id="wef"
                  placeholder="Date from"
                  onfocus="(this.type='date')"
                  onblur="(this.type='text')"
                  formControlName="wef"
                  [ngClass]="{ 'is-invalid': g['wef']?.invalid && (g['wef']?.dirty || g['wef']?.touched) }"
                />
                <div *ngIf="g['wef']?.invalid && (g['wef']?.dirty || g['wef']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['wef']?.errors['required']">WEF is required</div>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="visibleStatus.wet === 'Y'">
              <div class="col-md-6">
                <label for="wet" class="form-label">WET</label>
                <input
                  type="text"
                  class="form-control"
                  id="wet"
                  placeholder="Date to"
                  onfocus="(this.type='date')"
                  onblur="(this.type='text')"
                  formControlName="wet"
                  [ngClass]="{ 'is-invalid': g['wet']?.invalid && (g['wet']?.dirty || g['wet']?.touched) }"
                />
                <div *ngIf="g['wet']?.invalid && (g['wet']?.dirty || g['wet']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['wet']?.errors['required']">WET is required</div>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="visibleStatus.location === 'Y'">
              <div class="col-md-6">
                <label for="location" class="form-label">Location</label>
                <input
                  type="text"
                  class="form-control"
                  id="location"
                  formControlName="location"
                  [ngClass]="{ 'is-invalid': g['location']?.invalid && (g['location']?.dirty || g['location']?.touched) }"
                />
                <div *ngIf="g['location']?.invalid && (g['location']?.dirty || g['location']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['location']?.errors['required']">Location is required</div>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="visibleStatus.type === 'Y'">
              <div class="col-md-6">
                <label for="type" class="form-label">Type</label>
                <select id="type" class="form-select" formControlName="type"
                        [ngClass]="{ 'is-invalid': g['type']?.invalid && (g['type']?.dirty || g['type']?.touched) }">
                  <option value="gis">GIS</option>
                  <option value="lms">LMS</option>
                </select>
                <div *ngIf="g['type']?.invalid && (g['type']?.dirty || g['type']?.touched)" class="form-text text-danger">
                  <div *ngIf="g['type']?.errors['required']">Type is required</div>
                </div>
              </div>
            </ng-container>
          </div>
        </form>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>

<!--Campaign message modal-->
<div
  class="modal fade"
  #campaignMessageModal
  id="campaignMessageModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
>
  <div class="modal-dialog align-items-center">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 py-0">
        <h5 class="modal-title" id="exampleModalLabel">{{ editMode ? 'Edit' : 'Define' }} a {{ editMode ? 'campaign message' : 'new campaign message' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeCampaignMessageModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createCampaignMessageForm">
          <ng-container *ngIf="visibleStatus.msgCampaignType === 'Y'">
            <div>
              <label class="form-label w-100" for="msgCampaignType">Campaign type</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" formControlName="msgCampaignType" id="msgCampaignType" value="sms">
                <label class="form-check-label" for="msgCampaignType">SMS</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" formControlName="msgCampaignType" id="msgCampaignType" value="email">
                <label class="form-check-label" for="msgCampaignType">Email</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" formControlName="msgCampaignType" id="msgCampaignType" value="newsletter">
                <label class="form-check-label" for="msgCampaignType">Newsletter</label>
              </div>
              <div *ngIf="h['msgCampaignType']?.invalid && (h['msgCampaignType']?.dirty || h['msgCampaignType']?.touched)" class="form-text text-danger">
                <div *ngIf="h['msgCampaignType']?.errors['required']">Campaign type is required</div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.sendToAllOptions === 'Y'">
            <label class="form-label w-100" for="sendToAllOptions">Send to all target?</label>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" formControlName="sendToAllOptions" id="sendToAllOptions" value="Y">
              <label class="form-check-label" for="sendToAllOptions">Yes</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" formControlName="sendToAllOptions" id="sendToAllOptions" value="N">
              <label class="form-check-label" for="sendToAllOptions">No</label>
            </div>
            <div *ngIf="h['sendToAllOptions']?.invalid && (h['sendToAllOptions']?.dirty || h['sendToAllOptions']?.touched)" class="form-text text-danger">
              <div *ngIf="h['sendToAllOptions']?.errors['required']">Default mode is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.messagesSubject === 'Y'">
            <label class="form-label w-100" for="messagesSubject">Subject</label>
            <input
              type="text"
              class="form-control"
              id="messagesSubject"
              formControlName="messagesSubject"
              [ngClass]="{ 'is-invalid': h['messagesSubject']?.invalid && (h['messagesSubject']?.dirty || h['messagesSubject']?.touched) }"
            />
            <div *ngIf="h['messagesSubject']?.invalid && (h['messagesSubject']?.dirty || h['messagesSubject']?.touched)" class="form-text text-danger">
              <div *ngIf="h['messagesSubject']?.errors['required']">Subject is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.messagesContent === 'Y' && createCampaignMessageForm.get('msgCampaignType').value !== 'newsletter'">
            <label class="form-label w-100" for="messagesContent">Message content</label>
            <textarea
              class="form-control"
              id="messagesContent"
              formControlName="messagesContent" rows="3"
              [ngClass]="{ 'is-invalid': h['messagesContent']?.invalid && (h['messagesContent']?.dirty || h['messagesContent']?.touched) }"></textarea>
            <div *ngIf="h['messagesContent']?.invalid && (h['messagesContent']?.dirty || h['messagesContent']?.touched)" class="form-text text-danger">
              <div *ngIf="h['messagesContent']?.errors['required']">Message content is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.image === 'Y'">
            <div class="row my-3">
              <div class="col-md-6">
                <label class="form-label w-100">Add image</label>
                <div class="row">
                  <i class="fa-solid fa-paperclip w-auto m-auto"></i>
                  <input
                    type="text"
                    class="form-control w-75"
                  />
                </div>
              </div>
              <div class="col-md-6 align-content-end">
                <div class="mt-2" (change)="onFileChange($event)">
                  <img *ngIf="url !== '' && url" [src]="url" alt="" id="photo" />
                  <input type="file" id="inputImg" accept="image/jpeg, image/png" hidden />
                  <label *ngIf="url === ''" for="inputImg" class="img_upload">Upload file</label>
                  <label for="inputImg" *ngIf="url !== ''" class="img_edit">{{ 'entities.edit' | translate | titlecase }}</label>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.sendTestTo === 'Y'">
            <label class="form-label w-100" for="sendTestTo">Send test to</label>
            <input
              type="text"
              class="form-control"
              placeholder="Email or phone number"
              id="sendTestTo"
              formControlName="sendTestTo"
              [ngClass]="{ 'is-invalid': h['sendTestTo']?.invalid && (h['sendTestTo']?.dirty || h['sendTestTo']?.touched) }"
            />
            <div *ngIf="h['sendTestTo']?.invalid && (h['sendTestTo']?.dirty || h['sendTestTo']?.touched)" class="form-text text-danger">
              <div *ngIf="h['sendTestTo']?.errors['required']">Send test to is required</div>
            </div>
          </ng-container>
        </form>
      </div>
        <div class="row col-12 ms-0">
          <div class="col-md-6 mb-2">
            <button type="button" class="btn btn-outline-primary float-start">
              <i class="fa-solid fa-calendar-alt w-auto m-auto"></i>
              Schedule send</button>
          </div>
          <div class="col-md-6">
            <button type="button" class="btn btn-outline-primary me-2">Send test</button>
            <button type="button" class="btn btn-primary">Save details</button>
          </div>
        </div>
    </div>
  </div>
</div>

<!--Tracker URL modal-->
<div
  class="modal fade"
  #trackerUrlModal
  id="trackerUrlModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
>
  <div class="modal-dialog align-items-center">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 py-0">
        <h5 class="modal-title" id="exampleModalLabel">{{ editMode ? 'Edit' : 'Create' }} a {{ editMode ? 'tracker URL' : 'new tracker URL' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeTrackerUrlModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createTrackerUrlForm">
          <ng-container *ngIf="visibleStatus.trackerName === 'Y'">
            <label class="form-label w-100" for="trackerName">Tracker name</label>
            <input
              type="text"
              class="form-control"
              id="trackerName"
              formControlName="trackerName"
              [ngClass]="{ 'is-invalid': i['trackerName']?.invalid && (i['trackerName']?.dirty || i['trackerName']?.touched) }"
            />
            <div *ngIf="i['trackerName']?.invalid && (i['trackerName']?.dirty || i['trackerName']?.touched)" class="form-text text-danger">
              <div *ngIf="i['trackerName']?.errors['required']">Tracker name is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.trackerUrl === 'Y'">
            <label class="form-label w-100" for="trackerUrl">URL</label>
            <input
              type="text"
              class="form-control"
              id="trackerUrl"
              formControlName="trackerUrl"
              [ngClass]="{ 'is-invalid': i['trackerUrl']?.invalid && (i['trackerUrl']?.dirty || i['trackerUrl']?.touched) }"
            />
            <div *ngIf="i['trackerUrl']?.invalid && (i['trackerUrl']?.dirty || i['trackerUrl']?.touched)" class="form-text text-danger">
              <div *ngIf="i['trackerUrl']?.errors['required']">URL is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.trackerDescription === 'Y'">
            <label class="form-label w-100" for="trackerDescription">Description</label>
            <input
              type="text"
              class="form-control"
              id="trackerDescription"
              formControlName="trackerDescription"
              [ngClass]="{ 'is-invalid': i['trackerDescription']?.invalid && (i['trackerDescription']?.dirty || i['trackerDescription']?.touched) }"
            />
            <div *ngIf="i['trackerDescription']?.invalid && (i['trackerDescription']?.dirty || i['trackerDescription']?.touched)" class="form-text text-danger">
              <div *ngIf="i['trackerDescription']?.errors['required']">Description is required</div>
            </div>
          </ng-container>
          <ng-container *ngIf="visibleStatus.optOut === 'Y'">
            <div class="form-check mt-2" for="optOut">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="optOut"
                formControlName="optOut"
                [ngClass]="{ 'is-invalid': i['optOut']?.invalid && (i['optOut']?.dirty || i['optOut']?.touched) }"
              />
              <label class="form-check-label text-black" for="optOut">
                Opt-out link
              </label>
              <div *ngIf="i['optOut']?.invalid && (i['optOut']?.dirty || i['optOut']?.touched)" class="form-text text-danger">
                <div *ngIf="i['optOut']?.errors['required']">Select opt out to is required</div>
              </div>
            </div>
          </ng-container>
        </form>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>
