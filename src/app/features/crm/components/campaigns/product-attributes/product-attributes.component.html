<div class="base-content-section">
  <div class="row me-4">
    <div class="col-8">
      <app-dynamic-breadcrumb [breadCrumbItems]="[
      {
        label: 'Administration',
        url: '/home/crm'
      },
      {
        label: 'CRM Setups',
        url: '/home/crm',
      },
      {
        label: 'Campaign Management',
        url: '/home/crm/product-attributes'
      },
      {
        label: 'Product attributes',
        url: ''
      }
    ]">
      </app-dynamic-breadcrumb>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h5 class="text-dark">Product</h5>
      <div class="row mb-2">
        <div class="col-sm-12 col-md-6">
          <input
            type="text"
            class="form-control"
            placeholder="Search"
            aria-label="search"
            aria-describedby="search"

          />
        </div>

        <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
          <div class="float-end">
        <span class="icon-circle">
              <i class="fa-solid fa-plus"
                 (click)="openDefineProductModal()"></i>
            </span>
            <span class="icon-circle">
              <i class="pi pi-pencil"></i>
            </span>
            <span class="icon-circle">
              <i class="fa-regular fa-trash-can"></i>
            </span>
          </div>
        </div>
      </div>
      <p-table
        #productsTable
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="productData?.length"
        [value]="productData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        [(selection)]="selectedProduct"
        selectionMode="single"
        dataKey="code"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
        [globalFilterFields]="['description', 'code']"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
            <th pSortableColumn="description">Description <p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="prompt">Prompt <p-sortIcon field="prompt"></p-sortIcon></th>
            <th pSortableColumn="range">Range <p-sortIcon field="range"></p-sortIcon></th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-clientAttribute>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="4">No Product Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <h5 class="text-dark">Product attributes</h5>
      <div class="row mb-2">
        <div class="col-sm-12 col-md-6">
          <input
            type="text"
            class="form-control"
            placeholder="Search"
            aria-label="search"
            aria-describedby="search"

          />
        </div>

        <div class="col-sm-12 col-md-6 d-flex justify-content-lg-end mt-2">
          <div class="float-end">
        <span class="icon-circle">
              <i class="fa-solid fa-plus"
                 (click)="openDefineProductAttributesModal()"></i>
            </span>
            <span class="icon-circle">
              <i class="pi pi-pencil"></i>
            </span>
            <span class="icon-circle">
              <i class="fa-regular fa-trash-can"></i>
            </span>
          </div>
        </div>
      </div>
      <p-table
        #productAttributesTable
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="productAttributesData?.length"
        [value]="productAttributesData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        [(selection)]="selectedProductAttributes"
        selectionMode="single"
        dataKey="code"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
        [globalFilterFields]="['description', 'code']"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="name">Client attribute name <p-sortIcon field="name"></p-sortIcon></th>
            <th pSortableColumn="description">Attribute min value <p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="prompt">Attribute max value <p-sortIcon field="prompt"></p-sortIcon></th>
            <th pSortableColumn="range">Attribute fixed value <p-sortIcon field="range"></p-sortIcon></th>
            <th pSortableColumn="range">Range <p-sortIcon field="range"></p-sortIcon></th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-productAttribute>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="5">No Product Attributes Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

<!--Create product modal-->
<div
  class="modal fade"
  #campaignClientProduct
  id="campaignClientProduct"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 pb-0">
        <h5 class="modal-title text-black">{{ editMode ? 'Edit' : 'Define' }} a {{ editMode ? 'product' : 'product' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeDefineProductModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row my-3">
          <div class="col-md-6">
            <label class="form-label w-100">System name</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
          <div class="col-md-6">
            <label class="form-label w-100">Product name</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
          <div class="col-md-6">
            <label class="form-label w-100">Short description</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
          <div class="col-md-6">
            <label class="form-label w-100">Description</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
          <div class="col-md-6">
            <label class="form-label w-100">Narration</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>

<!--Create product attributes modal-->
<div
  class="modal fade"
  #campaignClientProductAttributes
  id="campaignClientProductAttributes"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 pb-0">
        <h5 class="modal-title text-black">{{ editMode ? 'Edit' : 'Define' }} a {{ editMode ? 'product attribute' : 'product attribute' }}</h5>
        <button
          type="button"
          class="btn-close"
          (click)="closeDefineProductAttributesModal()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row my-3">
          <div class="col-md-12">
            <label class="form-label w-100">Select attribute</label>
            <select class="form-select">
              <option value=""></option>
              <option value=""></option>
            </select>
          </div>
          <div class="col-md-12">
            <label class="form-label w-100">Check</label>
            <input
              type="text"
              class="form-control"
            />
          </div>
          <div class="col-md-12">
            <label class="form-label w-100">Min value</label>
            <input
              type="number"
              class="form-control"
            />
          </div>
          <div class="col-md-12">
            <label class="form-label w-100">Max value</label>
            <input
              type="number"
              class="form-control"
            />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Save details</button>
      </div>
    </div>
  </div>
</div>
