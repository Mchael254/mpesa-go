
<ng-container *ngIf="group?.subGroup.length === 0">
  <div class="row">
    <ng-container *ngFor="let field of this.fields">
      <div class="col-sm-4">
        <div class="row my-2">
          <div class="col-sm-4 text-dark">
            {{ field.label[language] }}
          </div>
          <div class="col-sm-8 text-dark fw-bold">
            <span *ngIf="field.type!=='date'">{{ field.dataValue }}</span>
            <span *ngIf="field.type==='date'">{{ field.dataValue | date }}</span>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</ng-container>


<!--edit prime details modal-->
<button #editButton type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editPrimeIdentityModal" hidden>
  Open Edit Prime Identity Modal
</button>

<!-- Modal -->
<div class="modal fade" id="editPrimeIdentityModal" tabindex="-1" aria-labelledby="editPrimeIdentityModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-4 text-primary" id="editPrimeIdentityModalLabel">
          {{ group?.label[language] | titlecase }}
        </h1>
        <button #closeButton type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <ng-container *ngIf="
          editForm && countries.length > 0 && maritalStatuses.length > 0 && idTypes.length > 0; else loadingForm"
        >
          <form [formGroup]="editForm">
            <div class="row g-3">
              <ng-container *ngFor="let field of fields">
                <div class="col-md-6">
                  <label [for]="field.fieldId" class="form-label">
                    {{ field.label[language] | titlecase }}
                    <br> {{ field.fieldId }}
                  </label>
                  <!--Text input-->
                  <input
                    *ngIf="field.type === 'text'"
                    [formControlName]="field.fieldId"
                    [placeholder]="field.placeholder[language] || ''"
                    [id]="field.fieldId"
                    type="text"
                    class="form-control"
                  />

                  <!--select input-->
                  <select
                    *ngIf="field.type === 'select'"
                    [formControlName]="field.fieldId"
                    [id]="field.fieldId"
                    class="form-select"
                  >
                    <option
                      *ngFor="let opt of field.options"
                      [value]="opt.id || opt.name"
                    >
                      {{ opt.name | uppercase }}
                    </option>
                  </select>

                  <!--Date-->
                  <input
                    *ngIf="field.type === 'date'"
                    type="date"
                    [formControlName]="field.fieldId"
                    [placeholder]="field.placeholder"
                    [id]="field.fieldId"
                    class="form-control"
                  />
                </div>
              </ng-container>
            </div>
          </form>
        </ng-container>
        <ng-template #loadingForm>
          <div class="text-center">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </ng-template>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">
          {{ '' | titlecase }}
        </button>
        <button type="button" class="btn btn-primary" (click)="editPrimeDetails()">
          {{ 'save' | titlecase }}
        </button>
      </div>
    </div>
  </div>
</div>
