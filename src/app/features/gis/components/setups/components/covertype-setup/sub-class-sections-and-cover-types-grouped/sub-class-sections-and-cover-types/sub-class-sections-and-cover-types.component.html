<!-- Top Header and Help Link -->
<div class="d-flex justify-content-between ms-4 my-4 mx-4">
  <div class="mr-auto p-2">
    <p class="header fst-normal fw-bold fs-4 lh-1 text-primary">
      <i class="pi pi-arrow-circle-left fst-normal" style="color: slateblue"></i>
      Cover Types and Sections
    </p>
  </div>
  <div class="me-4">
    <p id="help" class="fst-normal fw-bold fs-6 lh-sm text-decoration-underline">
      <a>
        Help
        <i class="pi pi-question-circle"></i>
      </a>
    </p>
  </div>
</div>


<div class="container">
  <div class="row mx-5">
    <!-- Sub class listing -->
    <div class="col-3" style="max-width: 290px;">
      <app-sub-class-listing (selectedSubclassEvent)="getSelectedSubclass($event)">
      </app-sub-class-listing>
    </div>

    <!-- Sections and Cover Types Tabs and Content -->
    <div class="col-9">
      <!-- Product Details -->
      <div class="card">
        <div class="card-header" style="background-color: #FFFFFF;height: 70px">
          <div class="row">
            <div class="col-sm-6">
              <ul class="nav nav-pills mt-2" id="pills-tab" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" id="pills-home-tab" data-toggle="pill" role="tab" aria-controls="pills-sections"
                     [ngClass]="{'active':activeTab()==='Sections', 'aria-selected':activeTab()=='Sections'}"
                     (click)="selectTab('Sections')" target="_self">Sections </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" id="pills-cover-types" data-toggle="pill"
                     [ngClass]="{'active':activeTab()==='Cover-Types', 'aria-selected':activeTab()=='Cover-Types'}"
                     (click)="selectTab('Cover-Types')"
                     role="tab" aria-controls="pills-excesses" target="_self">Cover Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" id="pills-reports" data-toggle="pill"
                     role="tab" aria-controls="pills-productdoc"
                     aria-selected="false" target="_self">Reports</a>
                </li>

              </ul>
            </div>
            <div class="col-sm-6">
              <form class="form-inline form-sm" style="float: right;">
                <div class="input-group mb-2" id="search-input" style="max-width: 100%;">
                  <input class="form-control py-2 border-0" style="background-color: #F8FAFC;"
                         type="search" placeholder="search code,id..." [(ngModel)]="filterby" [ngModelOptions]="{standalone: true}">
                  <span class="input-group-append">
                                        <button class="border-0" style="background-color: #F8FAFC;">
                                            <i class="fa fa-search" style="color:#8C8C8C"></i>
                                        </button>
                                    </span>
                </div>
              </form>
            </div>


          </div>


        </div>
        <div class="card-body">
          <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade" id="pills-sections" role="tabpanel"
                 aria-labelledby="pills-sections-tab" [ngClass]="{ 'active':activeTab()==='Sections', 'show':activeTab()==='Sections'}">
              <div class="row">
                <div class="col-xl-6">
                  <ul class="nav">
                    <li class="nav-item">
                      <a class="nav-link active pointer" aria-current="page" data-bs-toggle="modal"
                         data-bs-target="#exampleModal4">+Add</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link pointer" data-bs-toggle="modal" data-bs-target="#exampleModal3">Edit</a>
                    </li>
                  </ul>

                </div>
                <div class="col-xl-6">
                  <ul class="nav" style="float:right">
                    <li class="nav-item">
                      <a class="nav-link dropdown-toggle" aria-current="page" id="dropdownMenu2"
                         data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="cursor:
                                        pointer; float: right;text-decoration: underline;">Detach</a>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <button class="dropdown-item dropright" style="color: blue;"
                                type="button">Columns</button>
                        <button class="dropdown-item" type="button"
                                style="color: blue;">Detach</button>
                        <button class="dropdown-item" type="button" style="color: blue;">Reorder
                          Columns</button>

                      </div>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" data-toggle="modal" data-target="#exampleModal5"
                         style="cursor:pointer;">View</a>
                    </li>
                  </ul>

                </div>
              </div>

              <p-table #dt1 [value]="allSubclassSections | customFilter: filterby" [(selection)]="selected"
                       [resizableColumns]="true" styleClass="p-datatable-sm" responsiveLayout="scroll"
                       class='ui-datatable' [autoLayout]="true" [paginator]="true" [rows]="5"
                       [scrollable]="true" scrollDirection="horizontal" [showCurrentPageReport]="true"
                       currentPageReportTemplate=" {first} - {last} of {totalRecords}"
                       [globalFilterFields]="['sectionShortDescription']">

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="code">Id<p-sortIcon
                      field="isRiskLocationMandatory"></p-sortIcon></th>
                    <th pSortableColumn="sectionShortDescription">Section<p-sortIcon
                      field="isRiskAddressRequired"></p-sortIcon></th>
                    <th pSortableColumn="isMandatory">Other Details<p-sortIcon
                      field="isMandatory"></p-sortIcon>
                    </th>
                    <th pSortableColumn="screenCode">Declaration<p-sortIcon
                      field="screenCode"></p-sortIcon></th>
                    <th pSortableColumn="WEF">WEF<p-sortIcon field="WEF"></p-sortIcon></th>
                    <th pSortableColumn="WEF">WET<p-sortIcon field="WEF"></p-sortIcon></th>
                  </tr>
                </ng-template>

                <ng-template let-subclass pTemplate="body">
                  <tr style="border-bottom:none; cursor: pointer;" [style.background]="subclass == selected ? '#dee2e6' : ''"
                      (click)="onselectSection(subclass)">

                    <td>{{subclass.code}}</td>
                    <td>{{subclass.sectionShortDescription | lowercase}}</td>
                    <td>{{subclass.excessDetails}}</td>
                    <td>{{subclass.declaration}}</td>
                    <td>{{subclass.wef}}</td>
                    <td>{{subclass.wet}}</td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="1"></td>

                    <td colspan="10" style="padding:200px;padding-left: 350px;" id="empty">No
                      records
                      Found</td>
                  </tr>

                </ng-template>
                <ng-template pTemplate="paginatorleft">
                  <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
                </ng-template>
                <ng-template pTemplate="paginatorright">
                  <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
                </ng-template>
              </p-table>

            </div>

            <!-- create section modal and Add subclass section -->
            <div class="modal fade" id="exampleModal4" tabindex="-1" role="dialog"
                 aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div>
                    <div class="card"  class="try-modal">

                      <div>

                        <div class="card-body">
                          <h5 class="card-title subclass-label2">
                            Choose Section</h5>

                          <div class="row mb-2">
                            <div class="col-xl-4">
                              <input class="form-control form-control-sm mb-1">
                            </div>
                            <div class="col-xl-4">
                              <input class="form-control form-control-sm mb-1">
                            </div>
                            <div class="col-xl-4">
                              <input class="form-control form-control-sm mb-1">
                            </div>
                          </div>

                          <p-table [value]="unassignedSection" [(selection)]="selectedSection"
                                   [resizableColumns]="true" styleClass="p-datatable-sm"
                                   responsiveLayout="scroll" class='ui-datatable'
                                   [autoLayout]="true" scrollHeight="270px">
                            <ng-template pTemplate="header">
                              <tr class="tableheader">
                                <th class="">
                                                                    <span class="mr-5"
                                                                          style="float: right;"><p-tableHeaderCheckbox></p-tableHeaderCheckbox></span>
                                </th>
                                <th><span class="ml-5">Short Description</span></th>
                                <th><span class="ml-4">Section</span></th>
                              </tr>
                            </ng-template>
                            <ng-template let-subclass pTemplate="body">
                              <tr style="border-bottom:none;"
                                  (click)="onRowSelect(subclass.code)">
                                <td class="">
                                  <p-tableCheckbox
                                    [value]="subclass"></p-tableCheckbox>

                                </td>

                                <td class="addSection ml-5" style="padding-left: 10%;">
                                  {{subclass.shortDescription}}
                                </td>
                                <td class="addSection">{{subclass.description}}
                                </td>

                              </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage">
                              <tr>
                                <td colspan="1"></td>

                                <td colspan="10" style="padding:30%;padding-left: 17%;"
                                    id="empty">No records
                                  Found</td>
                              </tr>

                            </ng-template>
                          </p-table>
                          <div class="modal-footer d-flex justify-content-end">
                            <button class="btn btn-seconda p-2 m-1"
                                    data-bs-dismiss="modal" id="new"
                                    #cancelSection>Cancel</button>
                            <button
                              class="btn btn-primary p-2 m-1" id="delete"
                              (click)="onclickSelect()">Save</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- updtate subclass sections -->
            <div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog"
                 aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content" style="width: 340px; top: 220px; left: 39px;
                                    height: 340px;">
                  <div>
                    <div class="card" class="try-modal">

                      <div>

                        <div class="card-body">
                          <h5 class="card-title subclass-label2">
                            Update Section</h5>
                          <form [formGroup]="sections">

                            <div class="row mt-4">
                              <div class="col-xl-4">
                                <label class="lab">ID</label>
                              </div>

                              <div class="col-xl-8">
                                <input class="form-control form-control-sm mb-1"
                                       formControlName="sectionCode" readonly>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-xl-4">
                                <label class="lab">Section</label>
                              </div>

                              <div class="col-xl-8">
                                <select class="form-control form-control-sm mb-1"
                                        formControlName="sectionShortDescription"
                                        (change)="onSectionChange($event)">
                                  <option *ngFor="let CT of loadSubclassSection"
                                          [value]="CT.sectionShortDescription">
                                    {{CT.sectionShortDescription}}</option>
                                </select>
                              </div>
                            </div>

                            <div class="row mt-2">
                              <div class="col-xl-4">
                                <label class="lab">Other Details</label>
                              </div>

                              <div class="col-xl-8">
                                <input class="form-control form-control-sm mb-1"
                                       formControlName="excessDetails">
                              </div>
                            </div>

                            <div class="row mt-2">
                              <div class="col-xl-4">
                                <label class="lab">Declaration</label>
                              </div>

                              <div class="col-xl-8">
                                <select class="form-control form-control-sm mb-1"
                                        formControlName="declaration">
                                  <option value="Y">YES</option>
                                  <option value="N">NO</option>
                                </select>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-xl-4">
                                <label class="lab">WEF</label>
                              </div>

                              <div class="col-xl-8">
                                <input class="form-control form-control-sm mb-1"
                                       type="date" formControlName="wef">
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-xl-4">
                                <label class="lab">WET</label>
                              </div>

                              <div class="col-xl-8">
                                <input class="form-control form-control-sm mb-1"
                                       type="date" formControlName="wet">
                              </div>
                            </div>

                            <div class="modal-footer mt-4 d-flex justify-content-end">
                              <button class="btn btn-secondary  p-2 float-end" id="new" data-bs-dismiss="modal"  #cancelSectionUpdate>Cancel</button>
                              <button class="btn btn-primary p-2 float-end" id="delete"
                                (click)="updateSubSections()">Update</button>
                            </div>

                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Subclass Covertypes  -->
            <div class="tab-pane fade" id="pills-excesses" role="tabpanel"
                 aria-labelledby="pills-excesses-tab" [ngClass]="{ 'active':activeTab()==='Cover-Types', 'show':activeTab()==='Cover-Types'}">
              <ul class="nav">
                <li class="nav-item">
                  <a class="nav-link active pointer" aria-current="page" data-bs-toggle="modal"
                     data-bs-target="#addSubclassCovertype" (click)="coverTypeForm.reset()">+Add</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link pointer" data-bs-toggle="modal" data-bs-target="#addClassPeril">Edit</a>
                </li>

              </ul>

              <p-table #dt1 [value]="subclassCoverType | customFilter: filterby"
                       [(selection)]="selectedCovertype" [resizableColumns]="true" styleClass="p-datatable-sm"
                       responsiveLayout="scroll" class='ui-datatable' [autoLayout]="true" [paginator]="true"
                       [rows]="5" [scrollable]="true" scrollDirection="horizontal"
                       [showCurrentPageReport]="true"
                       currentPageReportTemplate=" {first} - {last} of {totalRecords}"
                       [globalFilterFields]="['sectionShortDescription']">

                <ng-template pTemplate="header">
                  <tr>
                    <th pSortableColumn="code">Cover Type<p-sortIcon
                      field="isRiskLocationMandatory"></p-sortIcon></th>
                    <th pSortableColumn="sectionShortDescription">Description<p-sortIcon
                      field="isRiskAddressRequired"></p-sortIcon></th>
                    <th pSortableColumn="isMandatory">Default<p-sortIcon
                      field="isMandatory"></p-sortIcon>
                    </th>
                    <th pSortableColumn="screenCode">Default SI<p-sortIcon
                      field="screenCode"></p-sortIcon></th>
                    <th pSortableColumn="WEF">Exchange Rate<p-sortIcon field="WEF"></p-sortIcon>
                    </th>
                    <th pSortableColumn="WEF">Currency<p-sortIcon field="WEF"></p-sortIcon></th>
                    <th pSortableColumn="WEF">Instalment Type<p-sortIcon field="WEF"></p-sortIcon>
                    </th>
                    <th pSortableColumn="WEF">Maximum Instalment<p-sortIcon
                      field="WEF"></p-sortIcon></th>
                  </tr>
                </ng-template>

                <ng-template let-subclass pTemplate="body">
                  <tr style="border-bottom:none; cursor:pointer" [style.background]="subclass == selectedCovertype ? '#dee2e6' : '' "
                      (click)="onSelectCovertype(subclass)">

                    <td class="tryit">{{subclass.coverTypeShortDescription | lowercase}}</td>
                    <td class="tryit">{{subclass.description | lowercase}}</td>
                    <td class="tryit">{{subclass.isDefault}}</td>
                    <td class="tryit">{{subclass.defaultSumInsured}}</td>
                    <td class="tryit">{{subclass.sumInsuredExchangeRate}}</td>
                    <td class="tryit">{{subclass.sumInsuredCurrencyCode}}</td>
                    <td class="tryit">{{subclass.installmentType}}</td>
                    <td class="tryit">{{subclass.maximumInstallments}}</td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="1"></td>

                    <td colspan="10" style="padding:40px;padding-left: 219px;" id="empty">No
                      records
                      Found</td>
                  </tr>

                </ng-template>
                <ng-template pTemplate="paginatorleft">
                  <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
                </ng-template>
                <ng-template pTemplate="paginatorright">
                  <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
                </ng-template>
              </p-table>

              <div>
                <p-pickList [source]="sourceSubCovSec" [target]="filterSubCovSec"
                            (onMoveToTarget)="onMoveItem($event, 'moveToTarget')"
                            (onMoveAllToTarget)="onMoveItem($event, 'moveAllToTarget')"
                            (onMoveToSource)="onMoveItem($event, 'moveToSource')"
                            (onMoveAllToSource)="onMoveItem($event, 'moveAllToSource')"
                            [showSourceControls]="false" sourceHeader="Subclass Sections"
                            targetHeader="Cover Type Sections" sourceFilterPlaceholder=""
                            targetFilterPlaceholder="" [showTargetControls]="false" [responsive]="true"
                            [sourceStyle]="{ height: '100px' }" [targetStyle]="{ height: '100px' }">
                  <ng-template let-binder pTemplate="item">
                    <span class="getsec">{{ binder.sectionShortDescription }}</span>
                  </ng-template>
                </p-pickList>
              </div>

            </div>

          </div>
          <!-- Update Subclass Covertype -->
          <div class="modal fade" id="addClassPeril" tabindex="-1" role="dialog"
               aria-labelledby="addClassPeril" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content" style="left:-90px; top: 20px">

                <div class="card" style="width:145%">

                  <div class="card-body">
                    <h6 class="modal-title text- mb-4" id="addPerilTitle">Update Cover Type</h6>
                    <form [formGroup]="coverTypeForm">

                      <!-- **ROW 1** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">ID</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     readonly>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Description</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="coverTypeShortdescription">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Default SI</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="defaultSumInsured">
                            </div>
                          </div>
                        </div>
                      </div>



                      <!-- **ROW 2** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Cover Types</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="description"
                                      (change)="onCovertypesChange($event)">
                                <option *ngFor="let CT of allCovertypes"
                                        [value]="CT.description">{{CT.description}}</option>
                              </select>

                            </div>

                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Default</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="isDefault">
                                <option value="Y">YES</option>
                                <option value="N">NO</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Installment Type</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="installmentType">
                                <option value="NONE">NONE</option>
                                <option value="PYMT">PAYMENT</option>
                                <option value="DBTG">DEBITING</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>


                      <!-- ** ROW 3 ** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Exchange Rate</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="sumInsuredExchangeRate">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Installment Period</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="installmentPeriod">
                                <option value="A">Annual</option>
                                <option value="S">Semi Annual</option>
                                <option value="Q">Quaterly</option>
                                <option value="M">Monthly</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Survey/Valuation Required</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="surveyEvaluationRequired">
                                <option value="Y">YES</option>
                                <option value="N">NO</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ROW 4 -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Currency</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="sumInsuredCurrencyCode">
                                <option *ngFor="let cur of currencies" [value]="cur.id">
                                  {{cur.name}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Minimum Premium</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="minimumPremium">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Payment Install</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="paymentInstallmentPercentage">
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ** ROW 5 ** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Max Install</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="maximumInstallments">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Survey/Valuation Amount</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="surveyEvaluationRequired">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">

                          </div>
                        </div>
                      </div>
                      <br>
                      <div class="modal-footer d-flex">
                        <button class="btn btn-secondary p-2 float-end" id="new"
                        data-bs-dismiss="modal" #cancelUpdateCovertype>Cancel</button>

                        <button class="btn btn-primary p-2 float-end"
                                id="delete" (click)="updateCovertype()">Update</button>
                      </div>

                    </form>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Add subclass covertype -->
          <div class="modal fade" id="addSubclassCovertype" tabindex="-1" role="dialog"
               aria-labelledby="addSubclassCovertype" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content" style="left:-90px; top: 20px">

                <div class="card" style="width:145%">

                  <div class="card-body">
                    <h6 class="modal-title text- mb-4" id="addPerilTitle">Add Cover Type</h6>
                    <form [formGroup]="coverTypeForm">

                      <!-- **ROW 1** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">ID</label>
                            <div class="col-8">
                              <input type="text" class="form-control form-control-sm"
                                     formControlName="subClPerilShtDesc" id="addPerilsInput">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Description</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="coverTypeShortdescription">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Default SI</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="defaultSumInsured">
                            </div>
                          </div>
                        </div>
                      </div>



                      <!-- **ROW 2** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Cover Types</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="description"
                                      (change)="onCovertypesChange($event)">
                                <option *ngFor="let CT of allCovertypes"
                                        [value]="CT.description">{{CT.description}}</option>
                              </select>
                            </div>

                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Default</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="isDefault">
                                <option value="Y">YES</option>
                                <option value="N">NO</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Installment Type</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="installmentType">
                                <option value="NONE">NONE</option>
                                <option value="PYMT">PAYMENT</option>
                                <option value="DBTG">DEBITING</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>


                      <!-- ** ROW 3 ** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Exchange Rate</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="sumInsuredExchangeRate">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Installment Period</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="installmentPeriod">
                                <option value="A">Annual</option>
                                <option value="S">Semi Annual</option>
                                <option value="Q">Quaterly</option>
                                <option value="M">Monthly</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Survey/Valuation Required</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="surveyEvaluationRequired">
                                <option value="Y">YES</option>
                                <option value="N">NO</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ROW 4 -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Currency</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="sumInsuredCurrencyCode">
                                <option *ngFor="let cur of currencies" [value]="cur.id">
                                  {{cur.name}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Minimum Premium</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="minimumPremium">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Payment Install</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="paymentInstallmentPercentage">
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ** ROW 5 ** -->
                      <div class="row mb-1">
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Max Install</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="maximumInstallments">
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Survey/Valuation Required</label>
                            <div class="col-8">
                              <select class="form-control form-control-sm mb-1"
                                      formControlName="surveyEvaluationRequired">
                                <option value="Y">YES</option>
                                <option value="N">NO</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-xl-4">
                          <div class="form-group row">
                            <label for="addPerilsInput" class="col-4 col-form-label"
                                   id="addPerilsLabel">Payment Install</label>
                            <div class="col-8">
                              <input class="form-control form-control-sm mb-1"
                                     formControlName="paymentInstallmentPercentage">
                            </div>
                          </div>
                        </div>
                      </div>
                      <br>
                      <div class="modal-footer d-flex">
                        <button class="btn btn-secondary p-2 float-end" id="new"
                                data-bs-dismiss="modal" #cancelCreateCovertype>Cancel</button>
                        <button class="btn btn-primary p-2 float-end"
                                id="delete" (click)="createCovertype()">Save</button>
                      </div>

                    </form>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

