<div class="card mb-4">
    <div class="card-body">

        <div class="row ">
            <div class="col-sm-4">
                <p class="subheading"> {{'gis.policy.external_claim_exp' | translate}}</p>

            </div>
            <div class="col-sm-8 d-flex justify-content-end">
                <div class="row  mb-2">

                    <div class="col-sm-3"></div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col-sm-4 ">
                                <button type="button" id="icon" class="btn btn-success"  data-bs-toggle="modal"
                                data-bs-target="#addExternalClaimExperienceModal" title="add">
                                    <i class="fa-solid fa-plus"></i>
                                </button>
                               
                            </div>
                            <div class="col-sm-4">
                                <button type="button" id="icon" class="btn btn-primary" data-bs-toggle="modal"
                                    data-bs-target="#editExternalClaimExperienceModal" title="Edit">
                                    <i class="fa-solid fa-pencil"></i>
                                </button>

                            </div>

                            <div class="col-sm-4">
                                <button type="button" id="icon" class="btn btn-primary" data-bs-toggle="modal"
                                    id="openRiskModalButtonDelete" [hidden]="true" data-bs-target="#deleteRisk"
                                    title="Delete">
                                </button>
                                <button type="button" id="icon" class="btn btn-primary" title="Delete">
                                    <i class="fa-solid fa-trash-can"></i>
                                </button>
                                <!-- <button id="openModalButtonDelete" [hidden]="true"  data-bs-toggle="modal" data-bs-target="#deletePremium" >deletes</button>
                                        <a class="nav-link" id="links"  (click)="openDeleteModal()">Delete</a>
                                        <i class="fa-solid fa-trash-can"  id="icon" (click)="openDeleteModal()"></i> -->
                            </div>

                        </div>
                    </div>


                </div>

            </div>
        </div>
        <p-table #dt1 [value]="externalClaimList" dataKey="code" editMode="row" selectionMode="single"
            [(selection)]="selectedExternalClaim" [tableStyle]="{'min-width': '50rem'}" styleClass="p-datatable-sm"
            responsiveLayout="scroll" class='ui-datatable' [autoLayout]="true">


            <ng-template pTemplate="header">
                <tr>
                    <th class="flexible-header">Policy no.</th>
                    <th class="flexible-header">Insurer</th>
                    <th class="flexible-header">Year</th>
                    <th class="flexible-header">Risk details</th>
                    <th class="flexible-header">Loss ratio</th>
                    <th class="flexible-header">Claim paid</th>
                    <th class="flexible-header">Remarks</th>
                    <th class="flexible-header">No. of accidents</th>
                    <th class="flexible-header">Damage amount</th>

                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-externalClaimList let-ri="rowIndex">
                <tr [pSelectableRow]="externalClaimList"
                    [class.p-highlight]="externalClaimList === selectedExternalClaim">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="1"></td>

                    <td colspan="10" style="padding:20px;padding-left: 300px;" id="empty">No data to display.</td>
                </tr>

            </ng-template>
        </p-table>
        <!-- EDIT EXTERNAL EXPERIENCE MODAL -->
        <div class="modal fade" id="editExternalClaimExperienceModal" tabindex="-1" aria-labelledby="editModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">


                    <div class="modal-body">
                        <button type="button" class="btn-close float-end" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                        <h5 class="modal-title" id="modalTitle">Define a new claims experience</h5>
                        <form [formGroup]="clientDDDetailsForm">
                            <!-- ROW 1 -->
                            <div class="row mt-4 mb-2">
                                <div class="col-sm-6">
                                    <label for="clientName" class="form-label">Policy no.</label>
                                    <input type="text" class="form-control" id="clientName" placeholder=""
                                        formControlName="clientCode">
                                </div>
                                <div class="col-sm-6">
                                    <label for="clientName" class="form-label">Insurer</label>
                                    <input type="text" id="quote-input"
                                        class="form-select form-control form-control-sm mb-1" formControlName="id"
                                        [(ngModel)]="passedClientName" data-bs-toggle="modal"
                                        data-bs-target="#clientModal" readonly>
                                </div>
                            </div>
                            <!-- ROW 2 -->
                            <div class="row mb-2">
                                <div class="col-sm-6">
                                    <label for="year" class="form-label">Year</label>
                                    <input type="text" class="form-control" id="year" placeholder=""
                                        formControlName="accountNo">
                                </div>
                                <div class="col-sm-6">
                                    <label for="riskDetails" class="form-label">Risk details</label>
                                    <input type="text" class="form-control" id="riskDetails" placeholder=""
                                        formControlName="accountNo">
                                </div>
                            </div>
                            <!-- ROW 3 -->
                            <div class="row mb-2">
                                <div class="col-sm-6">
                                    <label for="lossRatio" class="form-label">Loss ratio</label>
                                    <input type="number" class="form-control" id="lossRatio" placeholder=""
                                        formControlName="accountNo">
                                </div>
                                <div class="col-sm-6">
                                    <label for="claimPaid" class="form-label">Claim paid</label>
                                    <input type="number" class="form-control" id="claimPaid" placeholder=""
                                        formControlName="accountNo">
                                </div>
                            </div>
                            <!-- ROW 4 -->
                            <div class="row mb-2">
                                <div class="col-sm-6">
                                    <label for="noOfAccidents" class="form-label">No. of accidents</label>
                                    <input type="number" class="form-control" id="noOfAccidents" placeholder=""
                                        formControlName="accountNo">
                                </div>
                                <div class="col-sm-6">
                                    <label for="damageAmount" class="form-label">Damage amount</label>
                                    <input type="number" class="form-control" id="damageAmount" placeholder=""
                                        formControlName="accountNo">
                                </div>
                            </div>
                            <!-- ROW 5 -->
                            <div class="row mb-2">
                                <div class="col-sm-6">
                                    <label for="thirdPartyAmount" class="form-label">Third party amount</label>
                                    <input type="number" class="form-control" id="thirdPartyAmount" placeholder=""
                                        formControlName="accountNo">
                                </div>
                                <div class="col-sm-6">
                                    <label for="otherAmount" class="form-label">Other amount</label>
                                    <input type="number" class="form-control" id="otherAmount" placeholder=""
                                        formControlName="accountNo">
                                </div>
                            </div>
                            <!-- ROW 6 -->
                            <div class="row mb-2">
                                <div class="col-sm-6">
                                    <label for="thirdPartyAmount" class="form-label">Remarks</label>
                                    <input type="text" class="form-control" id="thirdPartyAmount" placeholder=""
                                        formControlName="accountNo">
                                </div>
                                <div class="col-sm-6">

                                </div>
                            </div>
                        </form>
                        <!-- Client Modal -->
                        <div class="modal fade" id="clientModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">

                                    <div class="modal-body">
                                        <button type="button" #closebutton class="float-end btn-close"
                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                        <p class="text-start" id="selectClient">{{'gis.policy.select_client' |
                                            translate}}
                                        </p>

                                        <p-table #dt1 [value]="clientData" [tableStyle]="{'max-width': '465px'}"
                                            selectionMode="single" [resizableColumns]="true" styleClass="p-datatable-sm"
                                            responsiveLayout="scroll" class='ui-datatable' [autoLayout]="true"
                                            [paginator]="true" [rows]="5" [scrollable]="true"
                                            scrollDirection="horizontal" [showCurrentPageReport]="true"
                                            currentPageReportTemplate=" {first} - {last} of {totalRecords}"
                                            [globalFilterFields]="['idNumber', 'emailAddress','lastName','emailAddress']">
                                            <ng-template pTemplate="caption">
                                                <div class="flex">
                                                    <span class="p-input-icon-left ml-auto">
                                                        <i class="pi pi-search search-icon"></i>
                                                    </span>
                                                    <input class="search-input" pInputText type="text"
                                                        placeholder="Search" />

                                                </div>
                                            </ng-template>
                                            <ng-template pTemplate="header">

                                                <tr id="product">
                                                    <th>{{'gis.policy.id_no' | translate}}</th>
                                                    <th>{{'gis.policy.name' | translate}}</th>
                                                    <th>{{'gis.policy.email' | translate}}</th>

                                                </tr>
                                            </ng-template>

                                            <ng-template let-clientData pTemplate="body">
                                                <tr id="productData" [pSelectableRow]="">

                                                    <td>
                                                        {{clientData.idNumber}}
                                                    </td>
                                                    <td>
                                                        {{clientData.firstName+" "+clientData.lastName}}
                                                    </td>
                                                    <td>
                                                        {{clientData.emailAddress}}
                                                    </td>
                                                </tr>
                                            </ng-template>

                                        </p-table>
                                        <br>
                                        <!-- <button class="btn btn-primary float-end" data-bs-dismiss="modal" (click)="saveclient()">Save Details</button> -->
                                    </div>



                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- ADD EXTERNAL CLAIM EXPEREIENCE -->
        <div class="modal fade" id="addExternalClaimExperienceModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">

                    <div class="modal-body">
                        <button type="button" class="btn-close float-end" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                            <h5 class="modal-title" id="modalTitle">Define a new claims experience</h5>
                            <form [formGroup]="clientDDDetailsForm">
                                <!-- ROW 1 -->
                                <div class="row mt-4 mb-2">
                                    <div class="col-sm-6">
                                        <label for="clientName" class="form-label">Policy no.</label>
                                        <input type="text" class="form-control" id="clientName" placeholder=""
                                            formControlName="clientCode">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="clientName" class="form-label">Insurer</label>
                                        <input type="text" id="quote-input"
                                            class="form-select form-control form-control-sm mb-1" formControlName="id"
                                            [(ngModel)]="passedClientName" data-bs-toggle="modal"
                                            data-bs-target="#clientModal" readonly>
                                    </div>
                                </div>
                                <!-- ROW 2 -->
                                <div class="row mb-2">
                                    <div class="col-sm-6">
                                        <label for="year" class="form-label">Year</label>
                                        <input type="number" class="form-control" id="year" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="riskDetails" class="form-label">Risk details</label>
                                        <input type="text" class="form-control" id="riskDetails" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                </div>
                                <!-- ROW 3 -->
                                <div class="row mb-2">
                                    <div class="col-sm-6">
                                        <label for="lossRatio" class="form-label">Loss ratio</label>
                                        <input type="number" class="form-control" id="lossRatio" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="claimPaid" class="form-label">Claim paid</label>
                                        <select class="form-select form-control-sm mb-1 ms-n4 selectInput" id="product-input"
                                        formControlName="surveyDate">
                                        <option value="Y">{{'gis.policy.yes' | translate}}</option>
                                        <option value="N">{{'gis.policy.no' | translate}}</option>
        
                                    </select>
                                    </div>
                                </div>
                                <!-- ROW 4 -->
                                <div class="row mb-2">
                                    <div class="col-sm-6">
                                        <label for="noOfAccidents" class="form-label">No. of accidents</label>
                                        <input type="number" class="form-control" id="noOfAccidents" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="damageAmount" class="form-label">Damage amount</label>
                                        <input type="number" class="form-control" id="damageAmount" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                </div>
                                <!-- ROW 5 -->
                                <div class="row mb-2">
                                    <div class="col-sm-6">
                                        <label for="thirdPartyAmount" class="form-label">Third party amount</label>
                                        <input type="number" class="form-control" id="thirdPartyAmount" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="otherAmount" class="form-label">Other amount</label>
                                        <input type="number" class="form-control" id="otherAmount" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                </div>
                                <!-- ROW 6 -->
                                <div class="row mb-2">
                                    <div class="col-sm-6">
                                        <label for="thirdPartyAmount" class="form-label">Remarks</label>
                                        <input type="text" class="form-control" id="thirdPartyAmount" placeholder=""
                                            formControlName="accountNo">
                                    </div>
                                    <div class="col-sm-6">
    
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end mt-2 mb-2">
                                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                                        >{{'crm.save_details' |
                                        translate}}</button>
                                </div>
                            </form>
                            <!-- Client Modal -->
                            <div class="modal fade" id="clientModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                                aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
    
                                        <div class="modal-body">
                                            <button type="button" #closebutton class="float-end btn-close"
                                                data-bs-dismiss="modal" aria-label="Close"></button>
                                            <p class="text-start" id="selectClient">{{'gis.policy.select_client' |
                                                translate}}
                                            </p>
    
                                            <p-table #dt1 [value]="clientData" [tableStyle]="{'max-width': '465px'}"
                                                selectionMode="single" [resizableColumns]="true" styleClass="p-datatable-sm"
                                                responsiveLayout="scroll" class='ui-datatable' [autoLayout]="true"
                                                [paginator]="true" [rows]="5" [scrollable]="true"
                                                scrollDirection="horizontal" [showCurrentPageReport]="true"
                                                currentPageReportTemplate=" {first} - {last} of {totalRecords}"
                                                [globalFilterFields]="['idNumber', 'emailAddress','lastName','emailAddress']">
                                                <ng-template pTemplate="caption">
                                                    <div class="flex">
                                                        <span class="p-input-icon-left ml-auto">
                                                            <i class="pi pi-search search-icon"></i>
                                                        </span>
                                                        <input class="search-input" pInputText type="text"
                                                            placeholder="Search" />
    
                                                    </div>
                                                </ng-template>
                                                <ng-template pTemplate="header">
    
                                                    <tr id="product">
                                                        <th>{{'gis.policy.id_no' | translate}}</th>
                                                        <th>{{'gis.policy.name' | translate}}</th>
                                                        <th>{{'gis.policy.email' | translate}}</th>
    
                                                    </tr>
                                                </ng-template>
    
                                                <ng-template let-clientData pTemplate="body">
                                                    <tr id="productData" [pSelectableRow]="">
    
                                                        <td>
                                                            {{clientData.idNumber}}
                                                        </td>
                                                        <td>
                                                            {{clientData.firstName+" "+clientData.lastName}}
                                                        </td>
                                                        <td>
                                                            {{clientData.emailAddress}}
                                                        </td>
                                                    </tr>
                                                </ng-template>
    
                                            </p-table>
                                            <br>
                                            <!-- <button class="btn btn-primary float-end" data-bs-dismiss="modal" (click)="saveclient()">Save Details</button> -->
                                        </div>
    
    
    
                                    </div>
                                </div>
                            </div>
                    </div>



                </div>
            </div>
        </div>
        <!-- Delete Insured Modal -->
        <div class="modal fade" id="deleteInsured" tabindex="-1" role="dialog" aria-labelledby="deleteInsured"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" id="deleteInsured">
                    <div class="modal-body ">
                        <p class="deleteMessage mt-4 mb-4">
                            {{'gis.policy.are_you_sure_you_want_to_delete' | translate}}</p>
                        <div class="d-flex justify-content-center mb-3">
                            <button type="button" class="btn btn-primary px-5" id="delete"
                                data-bs-dismiss="modal">{{'gis.policy.yes_delete' |
                                translate}}</button>
                        </div>
                        <div class="d-flex justify-content-center mb-2">
                            <button type="button" class="btn btn-outline-primary px-5"
                                data-bs-dismiss="modal">{{'gis.policy.no_im_not' |
                                translate}}</button>
                        </div>


                        <!-- <div class="row mt-4 mb-2 d-flex justify-content-center">
          <button type="button" class="btn btn-outline-primary "
                  data-bs-dismiss="modal">Cancel</button>
          <div class="col-6 ">
              <button type="button" class="btn btn-outline-primary "
                  data-bs-dismiss="modal">Cancel</button>
          </div>
          <div class="col-6 d-flex justify-content-end">
              <button type="button" class="btn btn-primary" id="save"
                  data-bs-dismiss="modal" (click)="deleteCoinsurance" >Delete</button>

          </div>
          <div class="row">
              <button type="button" class="btn btn-primary" id="save"
                  data-bs-dismiss="modal" (click)="deleteCoinsurance" >Delete</button>
          </div>
      </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>




</div>