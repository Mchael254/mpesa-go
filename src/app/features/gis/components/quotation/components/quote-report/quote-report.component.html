<div #pdfContent id="content-to-pdf">
  <div class="container">
    <div class="header">
      <img [src]="header.logo" alt="Company Logo" class="logo"/>
      <h1>QUOTATION REPORT</h1>
    </div>

    <!-- Quotation Info Card -->
    <p-card styleClass="mb-4 info-card">
      <p-table [value]="[{}]" styleClass="quotation-info;" responsiveLayout="scroll">
        <ng-template pTemplate="body">
          <tr>
            <td class="label">Quotation status</td>
            <td>{{ header.quotationStatus }}</td>
          </tr>
          <tr>
            <td class="label">Proposal/Insured</td>
            <td>{{ header.proposalIssued }}</td>
          </tr>
          <tr>
            <td class="label">Period</td>
            <td>{{ header.period }}</td>
          </tr>
          <tr>
            <td class="label">Quote time</td>
            <td>{{ header.quoteTime }}</td>
          </tr>
          <tr>
            <td class="label">Agency name</td>
            <td>{{ header.agencyName }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>


    <!-- risk details -->
    <div *ngFor="let product of enrichedProducts" class="border border-primary mb-4 p-3 rounded">
      <h5 class="section-header">{{ product.description }}</h5>

      <div *ngFor="let enriched of product.enrichedRisks" class="mb-4 p-3">

        <div class="d-flex w-[70vw] gap-2 justify-content-around mt-1">
          <div>
            <span class="text-lg font-bold text-secondary"> {{ product.description | titlecase }} {{ enriched.risk.propertyId }}
            </span>
          </div>
          <div>
            <span>Use of Property</span>
            <span class="fw-bold ms-3">{{ enriched.risk.propertyDescription || enriched.risk.propertyId }}</span>
          </div>
          <div>
            <span>Value</span>
            <span class="fw-bold ms-3">{{ enriched.risk.sumInsured }}</span>
          </div>

        </div>

        <!--Coverage Details -->
        <!-- non selected -->
        <div *ngIf="!enriched.risk.selectCoverType">
          <div class="row g-0">

            <div *ngFor="let cover of enriched.risk.coverTypeDetails" class="col-md-6">
              <div class="border border-primary p-3 h-100">
                <p class="text-primary fw-bold text-center mb-2">
                  {{ cover.coverTypeDescription | titlecase }}
                </p>

                <!-- Clauses -->
                <div class="d-flex mb-2">
                  <div class="w-25">
                    <p class="fw-semibold">Clauses</p>
                  </div>
                  <div class="w-75 ps-2">
                    <div *ngFor="let clause of cover.clauses" class="mb-1">
                      <p class="text-muted small mb-0">{{ clause.heading | titlecase }}</p>
                    </div>
                  </div>
                </div>

                <!-- Limits of Liability -->
                <div class="d-flex mb-2">
                  <div class="w-25">
                    <p class="fw-semibold">Limits of Liability</p>
                  </div>
                  <div class="w-75 ps-2">
                    <div *ngFor="let liability of cover.limitOfLiabilities" class="mb-1">
                      <p class="text-muted small mb-0">{{ liability.narration | titlecase }}</p>
                    </div>
                  </div>
                </div>

                <!-- Excesses -->
                <div class="d-flex">
                  <div class="w-25">
                    <p class="fw-semibold">Excess applicable</p>
                  </div>
                  <div class="w-75 ps-2">
                    <div *ngFor="let excess of cover.excesses" class="mb-1">
                      <p class="text-muted small mb-0">{{ excess.narration | titlecase }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- selected -->
        <div *ngIf="enriched.risk.selectCoverType">
          <div class="row g-0">

          </div>

        </div>


      </div>
      <ng-container *ngIf="payNow">
        <app-payment-advice></app-payment-advice>
      </ng-container>
    </div>
  </div>
</div>
