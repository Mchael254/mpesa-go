<p-tabView [scrollable]="true">
  <p-tabPanel header="Exceptions">
    <div class="row mb-2">
      <div class="col-sm-12 col-md-6">
        <input
          type="text"
          class="form-control"
          placeholder="Search by id, description"
          aria-label="search"
          aria-describedby="search"

        />
      </div>

      <div class="col-sm-12 col-md-6 d-flex justify-content-end mt-2">
        <button
          class="btn btn-primary me-2" style="font-size: 12px;" (click)="makeReady()" [disabled]="isLoadingMakeUndo"
          id="makeReadyBtn">
          <span *ngIf="!isLoadingMakeUndo; else loadingMakeUndo">Make ready</span>
          <ng-template #loadingMakeUndo>
            <i class="pi pi-spin pi-spinner text-white" style="font-size: 2rem"></i>
          </ng-template>
        </button>
        <button
          class="btn btn-primary" style="font-size: 12px;" (click)="authoriseExceptions()" [disabled]="isLoadingAuthExc">
          <span *ngIf="!isLoadingAuthExc; else loadingAuthExc">Authorise exceptions</span>
          <ng-template #loadingAuthExc>
            <i class="pi pi-spin pi-spinner text-white" style="font-size: 2rem"></i>
          </ng-template>
        </button>
      </div>
    </div>
    <p-table
      #claimsExceptionsTable
      [autoLayout]="true"
      [rowHover]="true"
      [resizableColumns]="true"
      [showCurrentPageReport]="true"
      [rows]="pageSize || 5"
      [totalRecords]="claimExceptionData?.length"
      [value]="claimExceptionData"
      [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
      responsiveLayout="stack"
      [scrollable]="true"
      [(selection)]="selectedClaimException"
      selectionMode="single"
      dataKey="code"
      scrollHeight="400px"
      currentPageReportTemplate="{first} - {last} of {totalRecords}"
      [globalFilterFields]="['description', 'code']"
    >

      <ng-template pTemplate="header">
        <tr>
          <th style="width:0.5rem;">
            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            <!--        Select-->
          </th>
          <th pSortableColumn="gis_exception_code">{{'base.id' | translate }} <p-sortIcon field="gis_exception_code"></p-sortIcon></th>
          <th pSortableColumn="description">{{'mngt_wrkflw.policyDetails.description' | translate }} <p-sortIcon field="description"></p-sortIcon></th>
          <th>{{'mngt_wrkflw.reinsurance.remarks' | translate }}</th>
          <th>{{'mngt_wrkflw.exceptions.setStandard' | translate }}</th>
          <th>{{'mngt_wrkflw.exceptions.usedStandard' | translate }}</th>
          <th pSortableColumn="authorised">{{'mngt_wrkflw.exceptions.authorized' | translate }} <p-sortIcon field="authorised"></p-sortIcon></th>
          <th pSortableColumn="transactions_date">{{'mngt_wrkflw.exceptions.submissionDate' | translate }} <p-sortIcon field="transactions_date"></p-sortIcon></th>
          <th pSortableColumn="authorised_by">{{'mngt_wrkflw.exceptions.authorizedBy' | translate }} <p-sortIcon field="authorised_by"></p-sortIcon></th>
          <th pSortableColumn="authorised_date">{{'mngt_wrkflw.exceptions.authorizedDate' | translate }} <p-sortIcon field="authorised_date"></p-sortIcon></th>
          <th pSortableColumn="exception_by">{{'report.created_by' | translate }} <p-sortIcon field="exception_by"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-exception>
        <tr>
          <td>
            <p-tableCheckbox [value]="exception"></p-tableCheckbox>
          </td>
          <td>{{exception.gis_exception_code}}</td>
          <td>
        <span *ngIf = "exception?.description" title="{{exception?.description}}">
          {{exception?.description?.substring(0,10)}}...
        </span>
          </td>
          <td>
            <span title="{{exception?.underwriting_decision}}" (click)="toggleDropdown(exception)">
            {{exception?.underwriting_decision?.substring(0,20) | titlecase }}
          </span>

            <ng-container *ngIf="!exception.underwriting_decision || showDropdownForException === exception">
              <p-dropdown
                [options]="completionRemarksData"
                optionLabel="remark"
                optionValue="remark"
                id="code"
                [filter]="true"
                filterBy="remark"
                [showClear]="true"
                [style]="{ 'width': '130px', 'height': '40px' }"
                placeholder="Select remark"
                appendTo="body"
                (onChange)="onDropdownChange($event, exception)"
              >
                <ng-template let-remark pTemplate="item">
                  <div title="{{remark.remark}}">{{ remark.remark.length > 10 ? remark.remark.substring(0, 28) + '...' : remark.remark }}</div>
                </ng-template>
              </p-dropdown>
            </ng-container>
          </td>
          <td>{{exception?.set_standard}}</td>
          <td>{{exception?.used_standard}}</td>
          <td>{{exception?.authorised}}</td>
          <td>{{exception?.transactions_date}}</td>
          <td>{{exception?.authorised_by}}</td>
          <td>{{exception?.authorised_date}}</td>
          <td>{{exception?.exception_by}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="11">No Exception Detail(s) Found.</td>
        </tr>
      </ng-template>
    </p-table>
  </p-tabPanel>
  <p-tabPanel header="Authorization levels" *ngIf="authorizationLevelsData?.length > 0">
    <p-table
      [autoLayout]="true"
      [rowHover]="true"
      [resizableColumns]="true"
      [showCurrentPageReport]="true"
      [value]="authorizationLevelsData"
      [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
      responsiveLayout="stack"
      [scrollable]="true"
      [(selection)]="selectedAuthorizationLevel"
      scrollHeight="400px"
      currentPageReportTemplate="{first} - {last} of {totalRecords}"
    >

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="level">{{'mngt_wrkflw.exceptions.level' | translate }} <p-sortIcon field="level"></p-sortIcon></th>
          <th pSortableColumn="authorized">{{'mngt_wrkflw.exceptions.authorized' | translate }} <p-sortIcon field="authorized"></p-sortIcon></th>
          <th pSortableColumn="user_name">{{'mngt_wrkflw.exceptions.roleName' | translate }} <p-sortIcon field="user_name"></p-sortIcon></th>
          <th pSortableColumn="authorized_date">{{'mngt_wrkflw.exceptions.authorizeDate' | translate }} <p-sortIcon field="authorized_date"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-authlevels>
        <tr>
          <td>{{authlevels.level}}</td>
          <td>{{authlevels.authorized}}</td>
          <td>{{authlevels.user_name}}</td>
          <td>{{authlevels.authorized_date}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="9">No Authorization Levels Detail(s) Found.</td>
        </tr>
      </ng-template>
    </p-table>
  </p-tabPanel>
  <ng-container *ngIf ="claimPaymentTransaction?.transaction_type === 'CFO' || claimPaymentTransaction?.transaction_type === 'CFI' ||
      claimPaymentTransaction?.transaction_type === 'CPI' || claimPaymentTransaction?.transaction_type === 'CPO'">
    <p-tabPanel header="Perils CP">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="perilsPaymentData?.length"
        [value]="perilsPaymentData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="peril_short_description">{{'mngt_wrkflw.claimDetails.perilId' | translate }} <p-sortIcon field="peril_short_description"></p-sortIcon></th>
            <th pSortableColumn="peril_description">{{'mngt_wrkflw.claimDetails.peril' | translate }} <p-sortIcon field="peril_description"></p-sortIcon></th>
            <th pSortableColumn="type">{{'mngt_wrkflw.claimDetails.voucherAmountType' | translate }} <p-sortIcon field="type"></p-sortIcon></th>
            <th pSortableColumn="excess_allowed">{{'mngt_wrkflw.claimDetails.excessAllowed' | translate }} <p-sortIcon field="excess_allowed"></p-sortIcon></th>
            <th pSortableColumn="excess_amount">{{'mngt_wrkflw.claimDetails.excessAmount' | translate }} <p-sortIcon field="excess_amount"></p-sortIcon></th>
            <th pSortableColumn="novice_excess_amount">{{'mngt_wrkflw.claimDetails.noviceExcessAmt' | translate }} <p-sortIcon field="novice_excess_amount"></p-sortIcon></th>
            <th pSortableColumn="reinsurance_amount">{{'mngt_wrkflw.claimDetails.reinstatementAmount' | translate }} <p-sortIcon field="reinsurance_amount"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-perilPayment>
          <tr>
            <td>{{perilPayment.peril_short_description}}</td>
            <td>{{perilPayment.peril_description | titlecase}}</td>
            <td>{{perilPayment.type}}</td>
            <td>{{perilPayment.excess_allowed}}</td>
            <td>{{perilPayment.excess_amount | number}}</td>
            <td>{{perilPayment.novice_excess_amount | number}}</td>
            <td>{{perilPayment.reinsurance_amount}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="17">No Peril Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel >
    <p-tabPanel header="Payment items">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="paymentItemsData?.length"
        [value]="paymentItemsData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="description">{{'mngt_wrkflw.claimDetails.desc' | translate }}  <p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="amount">{{'mngt_wrkflw.claimDetails.amount' | translate }}  <p-sortIcon field="amount"></p-sortIcon></th>
            <th pSortableColumn="with_holding_tax">{{'mngt_wrkflw.claimDetails.withholdVAT' | translate }}  <p-sortIcon field="with_holding_tax"></p-sortIcon></th>
            <th pSortableColumn="vat_rate">{{'mngt_wrkflw.claimDetails.vatRate' | translate }}  <p-sortIcon field="vat_rate"></p-sortIcon></th>
            <th pSortableColumn="vat_amount">{{'mngt_wrkflw.claimDetails.vatAmount' | translate }}  <p-sortIcon field="vat_amount"></p-sortIcon></th>
            <th pSortableColumn="with_holding_tax">{{'mngt_wrkflw.claimDetails.whtx' | translate }}  <p-sortIcon field="with_holding_tax"></p-sortIcon></th>
            <th pSortableColumn="with_holding_tax_rate">{{'mngt_wrkflw.claimDetails.whtxRate' | translate }}  <p-sortIcon field="with_holding_tax_rate"></p-sortIcon></th>
            <th pSortableColumn="with_holding_tax_amount">{{'mngt_wrkflw.claimDetails.whtxAmount' | translate }}  <p-sortIcon field="with_holding_tax_amount"></p-sortIcon></th>
            <th pSortableColumn="excise_duty">{{'mngt_wrkflw.claimDetails.exciseDuty' | translate }}  <p-sortIcon field="excise_duty"></p-sortIcon></th>
            <th pSortableColumn="excise_duty_rate">{{'mngt_wrkflw.claimDetails.exciseDutyRate' | translate }}  <p-sortIcon field="excise_duty_rate"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-nonProp>
          <tr>
            <td>{{nonProp.description | titlecase}}</td>
            <td>{{nonProp.amount | number}}</td>
            <td>{{nonProp.with_holding_tax}}</td>
            <td>{{nonProp.vat_rate}}</td>
            <td>{{nonProp.vat_amount | number}}</td>
            <td>{{nonProp.with_holding_tax}}</td>
            <td>{{nonProp.with_holding_tax_rate}}</td>
            <td>{{nonProp.with_holding_tax_amount}}</td>
            <td>{{nonProp.excise_duty}}</td>
            <td>{{nonProp.excise_duty_rate}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="10">No Payment Item Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Bank details">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="claimBankData?.length"
        [value]="claimBankData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="account_no">{{'mngt_wrkflw.claimDetails.accountNo' | translate }}.  <p-sortIcon field="account_no"></p-sortIcon></th>
            <th pSortableColumn="bank_name">{{'mngt_wrkflw.claimDetails.bank' | translate }}  <p-sortIcon field="bank_name"></p-sortIcon></th>
            <th pSortableColumn="branch_name">{{'mngt_wrkflw.claimDetails.bankBranch' | translate }}  <p-sortIcon field="branch_name"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-claimBank>
          <tr>
            <td>{{claimBank?.account_no}}</td>
            <td>{{claimBank?.bank_name | titlecase}}</td>
            <td>{{claimBank?.branch_name | titlecase}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="3">No Bank Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Facultative cession">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="facultativeCessionData?.length"
        [value]="facultativeCessionData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="transactionNo">{{'mngt_wrkflw.claimDetails.transactionNo' | translate }}. <p-sortIcon field="transactionNo"></p-sortIcon></th>
            <th pSortableColumn="facultativeCode">{{'mngt_wrkflw.claimDetails.fcCode' | translate }} <p-sortIcon field="facultativeCode"></p-sortIcon></th>
            <th pSortableColumn="agencyName">{{'mngt_wrkflw.claimDetails.description' | translate }} <p-sortIcon field="agencyName"></p-sortIcon></th>
            <th pSortableColumn="shortDescription">{{'mngt_wrkflw.claimDetails.facultativeAccount' | translate }} <p-sortIcon field="shortDescription"></p-sortIcon></th>
            <th pSortableColumn="rate">{{'mngt_wrkflw.claimDetails.rate' | translate }} <p-sortIcon field="rate"></p-sortIcon></th>
            <th pSortableColumn="amount">{{'mngt_wrkflw.claimDetails.amount' | translate }} <p-sortIcon field="amount"></p-sortIcon></th>
            <th pSortableColumn="paid">{{'mngt_wrkflw.claimDetails.amountCovered' | translate }} <p-sortIcon field="paid"></p-sortIcon></th>
            <th pSortableColumn="balance">{{'mngt_wrkflw.claimDetails.balance' | translate }} <p-sortIcon field="balance"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-facultativeCession>
          <tr>
            <td>{{facultativeCession.transactionNo}}</td>
            <td>{{facultativeCession.facultativeCode}}</td>
            <td>{{facultativeCession.agencyName | titlecase}}</td>
            <td>{{facultativeCession.shortDescription}}</td>
            <td>{{facultativeCession.rate}}</td>
            <td>{{facultativeCession.amount | number}}</td>
            <td>{{facultativeCession.paid}}</td>
            <td>{{facultativeCession.balance}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="10">No Facultative Cession Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Non-proportional reinsurers">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="nonPropReinsurerData?.length"
        [value]="nonPropReinsurerData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="layer">{{'mngt_wrkflw.claimDetails.layer' | translate }} <p-sortIcon field="layer"></p-sortIcon></th>
            <th pSortableColumn="companyRetentionAmount">{{'mngt_wrkflw.claimDetails.retAmount' | translate }} <p-sortIcon field="companyRetentionAmount"></p-sortIcon></th>
            <th pSortableColumn="excessAmount">{{'mngt_wrkflw.claimDetails.excess' | translate }} <p-sortIcon field="excessAmount"></p-sortIcon></th>
            <th pSortableColumn="amountToCede">{{'mngt_wrkflw.claimDetails.amountToRecover' | translate }} <p-sortIcon field="amountToCede"></p-sortIcon></th>
            <th pSortableColumn="amount">{{'mngt_wrkflw.claimDetails.amountRecovered' | translate }} <p-sortIcon field="amount"></p-sortIcon></th>
            <th pSortableColumn="balance">{{'mngt_wrkflw.claimDetails.balance' | translate }} <p-sortIcon field="balance"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-nonPropReinsurer>
          <tr>
            <td>{{nonPropReinsurer.layer}}</td>
            <td>{{nonPropReinsurer.companyRetentionAmount | number}}</td>
            <td>{{nonPropReinsurer.excessAmount | number}}</td>
            <td>{{nonPropReinsurer.amountToCede}}</td>
            <td>{{nonPropReinsurer.amount}}</td>
            <td>{{nonPropReinsurer.balance}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="10">No Non-proportional Reinsurers Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Reinsurance pool rates">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="reinsurancePoolData?.length"
        [value]="reinsurancePoolData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th>{{'mngt_wrkflw.claimDetails.UWYR' | translate }}</th>
            <th pSortableColumn="reinsurancePoolRate">{{'mngt_wrkflw.claimDetails.poolRate' | translate }} <p-sortIcon field="reinsurancePoolRate"></p-sortIcon></th>
            <th pSortableColumn="reinsurancePoolAmount">{{'mngt_wrkflw.claimDetails.poolAmt' | translate }} <p-sortIcon field="reinsurancePoolAmount"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-reinsurancePool>
          <tr>
            <td></td>
            <td>{{reinsurancePool.reinsurancePoolRate}}</td>
            <td>{{reinsurancePool.reinsurancePoolAmount}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="2">No Reinsurance Pool Rate Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Treaty cession">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="treatyCessionData?.length"
        [value]="treatyCessionData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="code">{{'mngt_wrkflw.claimDetails.code' | translate }} <p-sortIcon field="code"></p-sortIcon></th>
            <th pSortableColumn="transactionNo">{{'mngt_wrkflw.claimDetails.transactionNo' | translate }}. <p-sortIcon field="transactionNo"></p-sortIcon></th>
            <th pSortableColumn="reinsuranceCode">{{'mngt_wrkflw.claimDetails.reiCode' | translate }} <p-sortIcon field="reinsuranceCode"></p-sortIcon></th>
            <th pSortableColumn="reinsuranceTreatyShortDescription">{{'mngt_wrkflw.claimDetails.description' | translate }} <p-sortIcon field="reinsuranceTreatyShortDescription"></p-sortIcon></th>
            <th pSortableColumn="rate">{{'mngt_wrkflw.claimDetails.rate' | translate }} <p-sortIcon field="rate"></p-sortIcon></th>
            <th pSortableColumn="treatyAmountCurrency">{{'mngt_wrkflw.claimDetails.amount' | translate }} <p-sortIcon field="treatyAmountCurrency"></p-sortIcon></th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-treatyCession>
          <tr>
            <td>{{treatyCession.code}}</td>
            <td>{{treatyCession.transactionNo}}</td>
            <td>{{treatyCession.reinsuranceCode}}</td>
            <td>{{treatyCession.reinsuranceTreatyShortDescription}}</td>
            <td>{{treatyCession.rate | number}}</td>
            <td>{{treatyCession.treatyAmountCurrency}}</td>
            <td></td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="3">No Treaty Cession Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
  </ng-container>

  <ng-container *ngIf ="claimPaymentTransaction?.transaction_type === 'LOP' || claimPaymentTransaction?.transaction_type === 'LRV'">
    <p-tabPanel header="Perils">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="perilsData?.length"
        [value]="perilsData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="claimant">{{'mngt_wrkflw.claimDetails.claimant' | translate }}<p-sortIcon field="claimant"></p-sortIcon></th>
            <th pSortableColumn="description">{{'mngt_wrkflw.claimDetails.description' | translate }}<p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="peril_type">{{'mngt_wrkflw.claimDetails.perilType' | translate }}<p-sortIcon field="peril_type"></p-sortIcon></th>
            <th pSortableColumn="claim_peril_claim_amount">{{'mngt_wrkflw.claimDetails.claimAmt' | translate }}<p-sortIcon field="claim_peril_claim_amount"></p-sortIcon></th>
            <th pSortableColumn="claim_peril_adjacent_amount">{{'mngt_wrkflw.claimDetails.adjAmt' | translate }}<p-sortIcon field="claim_peril_adjacent_amount"></p-sortIcon></th>
            <th pSortableColumn="peril_limit">{{'mngt_wrkflw.claimDetails.limitAmount' | translate }}<p-sortIcon field="peril_limit"></p-sortIcon></th>
            <th pSortableColumn="excess">{{'mngt_wrkflw.claimDetails.excessAmt' | translate }}<p-sortIcon field="excess"></p-sortIcon></th>
            <th pSortableColumn="novice_excess_amount">{{'mngt_wrkflw.claimDetails.noviceExcessAmt' | translate }}<p-sortIcon field="novice_excess_amount"></p-sortIcon></th>
            <th pSortableColumn="section_peril_depreciation_percentage">{{'mngt_wrkflw.claimDetails.depreciation' | translate }} %<p-sortIcon field="section_peril_depreciation_percentage"></p-sortIcon></th>
            <th pSortableColumn="claim_peril_origin_reserve_amount">{{'mngt_wrkflw.claimDetails.reserveAmount' | translate }}<p-sortIcon field="claim_peril_origin_reserve_amount"></p-sortIcon></th>
            <th pSortableColumn="own_recoveries">{{'mngt_wrkflw.claimDetails.recoveries' | translate }}<p-sortIcon field="own_recoveries"></p-sortIcon></th>
            <th pSortableColumn="own_salvages">{{'mngt_wrkflw.claimDetails.salvages' | translate }}<p-sortIcon field="own_salvages"></p-sortIcon></th>
            <th pSortableColumn="own_payments">{{'mngt_wrkflw.claimDetails.payments' | translate }}<p-sortIcon field="own_payments"></p-sortIcon></th>
            <th pSortableColumn="own_net_paid">{{'mngt_wrkflw.claimDetails.netPaid' | translate }}<p-sortIcon field="own_net_paid"></p-sortIcon></th>
            <th pSortableColumn="claim_peril_remarks">{{'mngt_wrkflw.claimDetails.remarks' | translate }}<p-sortIcon field="claim_peril_remarks"></p-sortIcon></th>
            <th pSortableColumn="peril_rate">{{'mngt_wrkflw.claimDetails.underwritingRate' | translate }}<p-sortIcon field="peril_rate"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-peril>
          <tr>
            <td>{{peril.claimant}}</td>
            <td>{{peril.description | titlecase}}</td>
            <td>{{peril.peril_type}}</td>
            <td>{{peril.claim_peril_claim_amount | number}}</td>
            <td>{{peril.claim_peril_adjacent_amount | number}}</td>
            <td>{{peril.peril_limit}}</td>
            <td>{{peril.excess}}</td>
            <td>{{peril.novice_excess_amount | number}}</td>
            <td>{{peril.section_peril_depreciation_percentage}}</td>
            <td>{{peril.claim_peril_origin_reserve_amount}}</td>
            <td>{{peril.own_recoveries}}</td>
            <td>{{peril.own_salvages}}</td>
            <td>{{peril.own_payments}}</td>
            <td>{{peril.own_net_paid}}</td>
            <td>{{peril.claim_peril_remarks | titlecase}}</td>
            <td>{{peril.peril_rate}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="17">No Peril Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Facultative ceding">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="facultativeCedingData?.length"
        [value]="facultativeCedingData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="agent_short_description">{{'mngt_wrkflw.claimDetails.reinsurerID' | translate }} <p-sortIcon field="agent_short_description"></p-sortIcon></th>
            <th pSortableColumn="agency_name">{{'mngt_wrkflw.claimDetails.reinsurer' | translate }} <p-sortIcon field="agency_name"></p-sortIcon></th>
            <th pSortableColumn="rate">{{'mngt_wrkflw.claimDetails.rate' | translate }} <p-sortIcon field="rate"></p-sortIcon></th>
            <th pSortableColumn="amount">{{'mngt_wrkflw.claimDetails.amount' | translate }} <p-sortIcon field="amount"></p-sortIcon></th>
            <th pSortableColumn="master_transaction_settlement">{{'mngt_wrkflw.claimDetails.submissionStatus' | translate }} <p-sortIcon field="master_transaction_settlement"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-facultativeCeding>
          <tr>
            <td>{{facultativeCeding.agent_short_description}}</td>
            <td>{{facultativeCeding.agency_name}}</td>
            <td>{{facultativeCeding.rate}}</td>
            <td>{{facultativeCeding.amount | number}}</td>
            <td>{{facultativeCeding.master_transaction_settlement}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="10">No Facultative Ceding Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Reinsurance pool">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="reinsurancePoolData?.length"
        [value]="reinsurancePoolData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="reinsurancePoolRate">{{'mngt_wrkflw.claimDetails.poolRate' | translate }} <p-sortIcon field="reinsurancePoolRate"></p-sortIcon></th>
            <th pSortableColumn="reinsurancePoolAmount">{{'mngt_wrkflw.claimDetails.poolAmt' | translate }} <p-sortIcon field="reinsurancePoolAmount"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-reinsurancePool>
          <tr>
            <td>{{reinsurancePool.reinsurancePoolRate}}</td>
            <td>{{reinsurancePool.reinsurancePoolAmount}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="2">No Reinsurance Pool Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Treaty ceding">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="treatyCedingData?.length"
        [value]="treatyCedingData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="reinsurance_short_description">{{'mngt_wrkflw.reinsurance.treaty' | translate }} <p-sortIcon field="reinsurance_short_description"></p-sortIcon></th>
            <th pSortableColumn="rate">{{'mngt_wrkflw.claimDetails.rate' | translate }} <p-sortIcon field="rate"></p-sortIcon></th>
            <th pSortableColumn="treaty_amount_currency">{{'mngt_wrkflw.claimDetails.treatyAmount' | translate }} <p-sortIcon field="treaty_amount_currency"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-treatyCeding>
          <tr>
            <td>{{treatyCeding.reinsurance_short_description | titlecase}}</td>
            <td>{{treatyCeding.rate}}</td>
            <td>{{treatyCeding.treaty_amount_currency}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="3">No Treaty Ceding Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Non-proportional treaties">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="nonPropTreatyData?.length"
        [value]="nonPropTreatyData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="layer">{{'mngt_wrkflw.claimDetails.layer' | translate }} <p-sortIcon field="layer"></p-sortIcon></th>
            <th pSortableColumn="company_retention_amount">{{'mngt_wrkflw.claimDetails.compRet' | translate }} <p-sortIcon field="company_retention_amount"></p-sortIcon></th>
            <th pSortableColumn="amount_to_cede">{{'mngt_wrkflw.claimDetails.amtToReserve' | translate }} <p-sortIcon field="amount_to_cede"></p-sortIcon></th>
            <th pSortableColumn="excess_amount">{{'mngt_wrkflw.claimDetails.excessAmount' | translate }} <p-sortIcon field="excess_amount"></p-sortIcon></th>
            <th pSortableColumn="master_transaction_settlement">{{'mngt_wrkflw.claimDetails.recovered' | translate }} <p-sortIcon field="master_transaction_settlement"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-nonProp>
          <tr>
            <td>{{nonProp.layer}}</td>
            <td>{{nonProp.company_retention_amount | number}}</td>
            <td>{{nonProp.amount_to_cede | number}}</td>
            <td>{{nonProp.excess_amount | number}}</td>
            <td>{{nonProp.master_transaction_settlement}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="10">No Non-proportional Treaties Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
    <p-tabPanel header="Penalties">
      <p-table
        [autoLayout]="true"
        [rowHover]="true"
        [resizableColumns]="true"
        [showCurrentPageReport]="true"
        [rows]="pageSize || 5"
        [totalRecords]="penaltiesData?.length"
        [value]="penaltiesData"
        [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
        responsiveLayout="stack"
        [scrollable]="true"
        scrollHeight="400px"
        currentPageReportTemplate="{first} - {last} of {totalRecords}"
      >

        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="transmital_trans_receipt_no">{{'mngt_wrkflw.claimDetails.code' | translate }} <p-sortIcon field="transmital_trans_receipt_no"></p-sortIcon></th>
            <th pSortableColumn="transmital_trans_gen_date">{{'mngt_wrkflw.claimDetails.description' | translate }} <p-sortIcon field="transmital_trans_gen_date"></p-sortIcon></th>
            <th pSortableColumn="transmital_trans_amount">{{'mngt_wrkflw.claimDetails.type' | translate }} <p-sortIcon field="transmital_trans_amount"></p-sortIcon></th>
            <th pSortableColumn="master_transaction_balance">{{'mngt_wrkflw.claimDetails.value' | translate }} <p-sortIcon field="master_transaction_balance"></p-sortIcon></th>
            <th pSortableColumn="master_transaction_settlement">{{'mngt_wrkflw.claimDetails.amount' | translate }} <p-sortIcon field="master_transaction_settlement"></p-sortIcon></th>
            <th pSortableColumn="master_transaction_dc">{{'mngt_wrkflw.claimDetails.remarks' | translate }} <p-sortIcon field="master_transaction_dc"></p-sortIcon></th>
            <th pSortableColumn="transmital_trans_auth_by">{{'mngt_wrkflw.claimDetails.peril' | translate }} <p-sortIcon field="transmital_trans_auth_by"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-penalties>
          <tr>
            <td>{{penalties.transmital_trans_receipt_no}}</td>
            <td>{{penalties.transmital_trans_gen_date}}</td>
            <td>{{penalties.transmital_trans_amount}}</td>
            <td>{{penalties.master_transaction_balance}}</td>
            <td>{{penalties.master_transaction_settlement}}</td>
            <td>{{penalties.master_transaction_dc}}</td>
            <td>{{penalties.transmital_trans_auth_by}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7">No Penalty Detail(s) Found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
  </ng-container>

  <p-tabPanel header="Remarks">
    <p-table
      [autoLayout]="true"
      [rowHover]="true"
      [resizableColumns]="true"
      [showCurrentPageReport]="true"
      [rows]="pageSize || 5"
      [totalRecords]="remarksData?.length"
      [value]="remarksData"
      [rowsPerPageOptions]="[5, 10, 20, 30, 50, 100]"
      responsiveLayout="stack"
      [scrollable]="true"
      scrollHeight="400px"
      currentPageReportTemplate="{first} - {last} of {totalRecords}"
    >

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="pending_reason_short_description">{{'mngt_wrkflw.claimDetails.shortDescription' | translate }} <p-sortIcon field="pending_reason_short_description"></p-sortIcon></th>
          <th pSortableColumn="pending_reason_description">{{'mngt_wrkflw.claimDetails.reasonForPending' | translate }} <p-sortIcon field="pending_reason_description"></p-sortIcon></th>
          <th pSortableColumn="description">{{'mngt_wrkflw.claimDetails.description' | translate }} <p-sortIcon field="description"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-remark>
        <tr>
          <td>{{remark.pending_reason_short_description}}</td>
          <td>{{remark.pending_reason_description}}</td>
          <td>{{remark.description}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="3">No Remarks Detail(s) Found.</td>
        </tr>
      </ng-template>
    </p-table>
  </p-tabPanel>
</p-tabView>
