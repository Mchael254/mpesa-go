<!-- start of deposit modal -->
<div
  class="modal fade"
  id="depositModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-primary" id="exampleModalLabel">
          {{ "fms.banking.depositDetails" | translate }}
        </h5>
        <button
          type="button"
          class="btn-close"
          data-dismiss="modal"
          aria-label="Close"
          (click)="closeDepositModal()"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="depositForm">
          <div class="">
            <div class="row g-3">
              <div class="col-6">
                <div class="form-group">
                  <label for="bank" class="form-label required">{{
                    "fms.banking.bankAccount" | translate
                  }}</label>
                  <select
                    id="bank"
                    class="form-select"
                    formControlName="bankAccount"
                  >
                    <option
                      *ngFor="let accounts of bankAccounts"
                      [value]="accounts.number"
                    >
                      {{ accounts.name }}, {{ accounts.number }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label for="bankingSlip" class="form-label required">{{
                    "fms.banking.bankingSipNumber" | translate
                  }}</label>
                  <input
                    type="text"
                    class="form-control"
                    id="bankingSlip"
                    formControlName="slipNumber"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label for="amount" class="form-label">{{
                    "fms.banking.amountBanked" | translate
                  }}</label>
                  <input
                    type="text"
                    class="form-control"
                    id="amount"
                    formControlName="amount"
                    readonly
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <div class="form-group mb-3">
                    <label for="remarks" class="form-label">{{
                      "fms.banking.remarksComments" | translate
                    }}</label>
                    <input
                      type="text"
                      class="form-control"
                      id="remarks"
                      formControlName="remarks"
                    />
                  </div>
                </div>
              </div>
              <div class="col-12 mt-3">
                <h6 class="fw-normal mb-2">
                  {{ "fms.banking.AttachDepositSlip" | translate }}
                </h6>
                <!-- custom file dropzone -->
                <div
                  class="file-dropzone border-dashed text-center p-4 rounded"
                  (click)="fileInput.click()"
                  (dragover)="onDragOver($event)"
                  (dragleave)="onDragLeave($event)"
                  (drop)="onDrop($event)"
                  [class.drag-over]="isDragging"
                >
                  <i class="pi pi-upload mb-2" style="font-size: 2rem"></i>
                  <p class="mb-1">
                    <span class="text-primary fw-bold cursor-pointer">{{
                      "fms.banking.clickToUpload" | translate
                    }}</span>
                    {{ "fms.banking.orDrag" | translate }}
                  </p>
                  <small class="text-muted">{{
                    "fms.banking.pdf" | translate
                  }}</small>
                  <!-- Hidden file input that we trigger programmatically -->
                  <input
                    type="file"
                    #fileInput
                    accept=".pdf,.doc,.docx"
                    class="d-none"
                    (change)="onFileSelected($event)"
                    [disabled]="maximumFiles"
                  />
                </div>
                <!-- List of Uploaded Files -->
                <div class="uploaded-files-list mt-3" *ngIf="uploadedFile">
                  <div
                    class="d-flex align-items-center justify-content-between p-2 mb-2 bg-light rounded"
                  >
                    <div class="d-flex align-items-center">
                      <i
                        class="pi pi-file-pdf text-danger me-2"
                        style="font-size: 1.5rem"
                      ></i>
                      <span class="file-name">{{ uploadedFile.name }}</span>
                    </div>
                    <button
                      type="button"
                      class="btn btn-sm btn-link text-danger"
                      (click)="removeFile()"
                    >
                      <i class="pi pi-trash"></i>
                    </button>
                    <div class="d-flex justify-content-end">
                      <button
                        type="button"
                        class="btn btn-primary btn-sm"
                        (click)="postFile()"
                      >
                        {{ "fms.receipting.postFile" | translate }}
                      </button>
                    </div>
                  </div>
                </div>
                <!-- end of file UPLOAD  section -->
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer me-1 gap-3">
        <button
          type="button"
          class="btn btn-outline-primary"
          (click)="closeDepositModal()"
        >
          {{ "fms.receipt-management.cancel" | translate }}
        </button>
        <button type="button" class="btn btn-primary">
          {{ "crm.saveChanges" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- end of deposit modal -->
