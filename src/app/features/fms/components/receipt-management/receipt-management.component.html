<div class="body-container">
  <div class="main">
    <h5 class="Receipt-management">
      {{ "fms.receipt-management.receipt management" | translate }}
    </h5>
    <div class="d-flex underline receipt-buttons">
      <button
        type="button"
        class="btn btn-link inactive"
        (click)="isPrintingClicked()"
        [ngClass]="{ active: isPrinting, inactive: !isPrinting }"
      >
        {{ "fms.receipt-management.printing" | translate }}
      </button>
      <button
        type="button"
        class="btn btn-link inactive"
        (click)="cancelClicked()"
        [ngClass]="{ active: isCancellation, inactive: !isCancellation }"
      >
        {{ "fms.receipt-management.cancellation" | translate }}
      </button>
    </div>
    <div class="Line-195"></div>

    <!-- Cancellation Table -->
    <div class="row table-row" *ngIf="cancellationDeactivated">
      <div class="col-md-10">
        <p-table
          responsiveLayout="scroll"
          class="table-striped"
          [paginator]="true"
          [rows]="5"
          [rowsPerPageOptions]="[5, 10, 20]"
          selectionMode="single"
          dataKey="code"
          [value]="filteredtabledata"
          [showCurrentPageReport]="true"
          [currentPageReportTemplate]="currentPageReportTemplate"
        >
          <ng-template pTemplate="header">
            <tr>
              <th class="header-bg">
                {{ "fms.receipt-management.receiptNumber" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receiptNumber')"
                  (input)="applyFilter($event, 'receiptNumber')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.receiptDate" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receiptDate')"
                  (input)="applyFilter($event, 'receiptDate')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.receivedFrom" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receivedFrom')"
                  (input)="applyFilter($event, 'receivedFrom')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.amount" | translate }}
                <input
                  type="number"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'amount')"
                  (input)="applyFilter($event, 'amount')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.paymentMethod" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'paymentMethod')"
                  (input)="applyFilter($event, 'paymentMethod')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipting.actions" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  disabled
                />
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-client let-i="rowIndex">
            <tr [ngClass]="{ 'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0 }">
              <td>{{ client.branchReceiptCode }}</td>
              <td>{{ client.receiptDate }}</td>
              <td>{{ client.receivedFrom }}</td>
              <td>{{ client.amount }}</td>
              <td>{{ client.paymentMode }}</td>

              <td>
                <button
                  type="button"
                  class="btn btn-link cancelbtn"
                  (click)="openCancelModal()"
                >
                  {{ "fms.receipt-management.cancel" | translate }}
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <!-- END OF Cancellation Table currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"-->
    <!-- start of printing table data -->
    <div class="row table-row" *ngIf="printingEnabled">
      <div class="col-md-10">
        <p-table
          responsiveLayout="scroll"
          class="table-striped"
          [paginator]="true"
          [rows]="5"
          [rowsPerPageOptions]="[5, 10, 20]"
          selectionMode="single"
          dataKey="code"
          [value]="filteredtabledata"
          [showCurrentPageReport]="true"
          [currentPageReportTemplate]="currentPageReportTemplate"
        >
          <ng-template pTemplate="header">
            <tr>
              <th class="header-bg">
                {{ "fms.receipt-management.receiptNumber" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receiptNumber')"
                  (input)="applyFilter($event, 'receiptNumber')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.receiptDate" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receiptDate')"
                  (input)="applyFilter($event, 'receiptDate')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.receivedFrom" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'receivedFrom')"
                  (input)="applyFilter($event, 'receivedFrom')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.amount" | translate }}
                <input
                  type="number"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'amount')"
                  (input)="applyFilter($event, 'amount')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipt-management.paymentMethod" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  (keyup.enter)="applyFilter($event, 'paymentMethod')"
                  (input)="applyFilter($event, 'paymentMethod')"
                  placeholder="{{ 'fms.receipting.filter' | translate }}"
                />
              </th>
              <th class="header-bg">
                {{ "fms.receipting.actions" | translate }}
                <input
                  type="text"
                  class="form-control form-control-sm"
                  style="width: 90px"
                  disabled
                />
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-receipt let-i="rowIndex">
            <tr [ngClass]="{ 'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0 }">
              <td>{{ receipt.branchReceiptCode }}</td>
              <td>{{ receipt.receiptDate }}</td>
              <td>{{ receipt.receivedFrom }}</td>
              <td>{{ receipt.amount }}</td>
              <td>{{ receipt.paymentMode }}</td>

              <td>
                <span class="d-flex btns">
                  <button
                    type="button"
                    class="btn btn-link printbtn"
                    (click)="printReceipt(i, receipt.no)"
                  >
                    {{ "fms.receipt-management.print" | translate }}
                  </button>
                  <button
                    type="button"
                    class="btn btn-link sharebtn"
                    (click)="openReceiptShareModal()"
                  >
                    {{ "fms.receipt-management.share" | translate }}
                  </button>
                </span>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <!-- end of print table data -->

    <div
      class="modal fade"
      id="staticBackdrop"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <!-- <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5> -->
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="text">
              <h5 class="Receipt-cancellation">
                {{ "fms.receipt-management.receipt cancellation" | translate }}
              </h5>
            </div>

            <div class="row mystyles">
              <div class="col">
                <label for="cancelDate" style="color: #000">{{
                  "fms.receipt-management.cancellation Date" | translate
                }}</label>
                <input type="date" class="form-control" id="cancelDate" />
              </div>
              <div class="col">
                <label for="remarks" style="color: #000">{{
                  "fms.receipt-management.remarks" | translate
                }}</label>
                <input type="text" class="form-control" id="remarks" />
              </div>
              <div class="sub-class">
                <h5 class="Raise-bank-charge">
                  {{ "fms.receipt-management.raise bank charge" | translate }}
                </h5>

                <div class="d-flex">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="flexRadioDefault"
                      id="flexRadioDefault1"
                    />
                    <label
                      class="form-check-label"
                      for="flexRadioDefault1"
                      style="color: #000"
                    >
                      {{ "fms.receipt-management.yes" | translate }}
                    </label>
                  </div>

                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="flexRadioDefault"
                      id="flexRadioDefault2"
                      checked
                    />
                    <label
                      class="form-check-label"
                      for="flexRadioDefault2"
                      style="color: #000"
                    >
                      {{ "fms.receipt-management.no" | translate }}
                    </label>
                  </div>
                </div>
                <div class="row customstyle">
                  <div class="col">
                    <label for="accountCharged" style="color: #000">{{
                      "fms.receipt-management.account charged" | translate
                    }}</label>
                    <select class="form-select" id="accountCharged"></select>
                  </div>
                  <div class="col">
                    <label for="glAccount" style="color: #000">{{
                      "fms.receipt-management.gl account" | translate
                    }}</label>
                    <select class="form-select" id="glAccount"></select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">
              {{ "fms.receipt-management.cancel" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- receipt sharing  Modal -->
    <div
      class="modal fade"
      id="shareReceiptModal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">
              {{ "fms.receipt-management.share Receipt" | translate }}
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="d-flex">
              <div class="form-check customcss">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault1"
                />
                <label
                  class="form-check-label"
                  for="flexRadioDefault1"
                  style="color: #000"
                >
                  {{ "fms.receipt-management.email" | translate }}
                </label>
              </div>

              <div class="form-check customcss">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault2"
                  checked
                />
                <label
                  class="form-check-label"
                  for="flexRadioDefault2"
                  style="color: #000"
                >
                  {{ "fms.receipt-management.Whatsapp" | translate }}
                </label>
              </div>
            </div>
            <div class="row">
              <div class="col clientcss">
                <label for="clientName" style="color: #000">{{
                  "fms.receipt-management.client name" | translate
                }}</label>
                <input type="text" class="form-control" id="clientName" />
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label for="phone" style="color: #000">{{
                  "fms.receipt-management.phone number" | translate
                }}</label>
                <input type="number" class="form-control" id="phone" />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">
              {{ "fms.receipt-management.send" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
